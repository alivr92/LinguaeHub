{% extends 'app_pages/base.html' %}
{% load static %}
{% load tz %}
{% load my_custom_filters %}
{% block head_title %}Tutor: {{ tutor_single.profile.user.first_name }}
    {{ tutor_single.profile.user.last_name }}{% endblock %}

{% block og_meta_tags %}
    {% with absolute_domain="https://"|add:request.get_host %}
        <!-- Open Graph Tags -->
        <meta property="og:type" content="profile"/>
        {% with skills_list=approved_skills|slice:":3" %}
            {% if skills_list %}
                <meta property="og:title" content="Learn


                        {% for skill in skills_list %}{{ skill.skill.name }}{% if not forloop.last %}, {% endif %}{% endfor %} with {{ tutor_single.profile.user.get_full_name }} on {{ CFChar.site_name }}"/>
            {% else %}
                <meta property="og:title"
                      content="Expert tutor available for personalized learning sessions. Book now on {{ CFChar.site_name }}!"/>
            {% endif %}
        {% endwith %}
        <meta property="og:description"
              content="{{ tutor_single.profile.bio|default:'Expert tutor on Lingocept platform'|truncatewords:25 }}"/>

        {% if tutor_single.profile.photo %}
            <meta property="og:image" content="


                    {{ absolute_domain }}{{ tutor_single.profile.photo.url }}?v={{ tutor_single.profile.last_modified|date:'U' }}"/>
            {#            <meta property="og:image" content="{{ absolute_domain }}{{ tutor_single.profile.photo.url }}?v={{ tutor_single.profile.last_modified|date:'U' }}" />#}
        {% else %}
            <meta property="og:image" content="


                    {{ absolute_domain }}{% static 'assets/images/default.png' %}?v={{ tutor_single.profile.last_modified|date:'U' }}"/>
        {% endif %}

        <meta property="og:url" content="{{ absolute_domain }}{% url 'provider:tutor_short' tutor_single.public_id %}"/>
        <meta property="og:site_name" content="{{ CFChar.site_name }}"/>

        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        {% with skills_list=approved_skills|slice:":3" %}
            {% if skills_list %}
                <meta name="twitter:title" content="Learn


                        {% for skill in skills_list %}{{ skill.skill.name }}{% if not forloop.last %}, {% endif %}{% endfor %} with {{ tutor_single.profile.user.get_full_name }} on {{ CFChar.site_name }}"/>
            {% else %}
                <meta name="twitter:title"
                      content="Expert tutor available for personalized learning sessions. Book now on {{ CFChar.site_name }}!"/>
            {% endif %}
        {% endwith %}
        <meta name="twitter:description"
              content="{{ tutor_single.profile.bio|default:'Expert tutor on Lingocept platform'|truncatewords:25 }}">
        <meta name="twitter:image" content="


                {{ absolute_domain }}{% if tutor_single.profile.photo %}{{ tutor_single.profile.photo.url }}{% else %}{% static 'assets/images/default.png' %}{% endif %}?v={{ tutor_single.profile.last_modified|date:'U' }}">
    {% endwith %}
{% endblock %}
{% block head_style_plugins %}
    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/font-awesome/css/all.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/tiny-slider/tiny-slider.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/aos/aos.css' %}">
{% endblock %}


{% block my_style %}
    <style>
        /* Custom carousel styles */
        #skillVideoCarousel {
            position: relative;
        }

        .carousel-inner {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            margin-bottom: 12px;
        }

        .carousel-item video {
            background-color: #000;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }

        /* Thumbnail container styles */
        .carousel-indicators-section {
            background: transparent;
            width: 100%;
            padding: 0 30px;
            position: relative;
        }

        .carousel-thumbnails {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            scroll-behavior: smooth;
            gap: 8px;
            padding-bottom: 5px;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
        }

        .carousel-thumbnails::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
        }

        /* Thumbnail item styles */
        .thumbnail-item {
            flex: 0 0 23%;
            position: relative;
            border-radius: 6px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            aspect-ratio: 16/9;
        }

        .thumbnail-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .thumbnail-item.active {
            border: 3px solid #f0151f;
            box-shadow: 0 4px 8px rgba(240, 21, 31, 0.3);
        }

        /* Navigation buttons */
        .thumbnail-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 2;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .thumbnail-prev {
            left: 0;
        }

        .thumbnail-next {
            right: 0;
        }

        .carousel-indicators-section:hover .thumbnail-nav {
            opacity: 1;
        }

        /* Tooltip customization */
        .tooltip-inner {
            background-color: #000000;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,
        .bs-tooltip-top .tooltip-arrow::before {
            border-top-color: #f0e60a;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .thumbnail-item {
                flex: 0 0 31%;
            }
        }

        @media (max-width: 576px) {
            .thumbnail-item {
                flex: 0 0 48%;
            }
        }
    </style>

    {#    fpr share buttons #}
    <style>
        .share-url-input {
            font-size: 0.8rem;
            background: #f8f9fa;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1055;
        }
    </style>
    <!-- styles for Tutor Available times -->
    <style>
        .schedule-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .timezone-selector {
            background: white;
            border-radius: 10px;
            padding: 12px 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        .duration-selector {
            margin: 24px 0;
        }

        .duration-btn {
            border-radius: 20px;
            padding: 8px 20px;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .date-navigation {
            background: white;
            border-radius: 10px;
            padding: 16px 20px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        .nav-btn {
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .schedule-display {
            background: white;
            border-radius: 12px;
            padding: 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            overflow: hidden;
        }

        .week-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0;
            min-height: 400px;
        }

        .day-column {
            padding: 20px 12px;
            border-right: 1px solid #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s ease;
        }

        .day-column:last-child {
            border-right: none;
        }

        .day-column.unavailable {
            background-color: #fafafa;
            color: #adb5bd;
        }

        .day-header {
            text-align: center;
            margin-bottom: 16px;
        }

        .day-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: #495057;
        }

        .day-date {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 4px;
        }

        .time-slots-container {
            flex: 1;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .time-slot-badge {
            padding: 10px 8px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 500;
            text-align: center;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .time-slot-badge:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .availability-summary {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }

        .summary-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .summary-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            background: #e9ecef;
            color: #495057;
        }

        .form-select {
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            padding: 8px 12px;
            transition: all 0.3s ease;
        }

        .form-select:focus {
            border-color: #0d6efd;
            box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.1);
        }

        .btn-check:checked + .btn {
            box-shadow: 0 2px 6px rgba(13, 110, 253, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>


{% endblock %}


{% block body_content %}
    <!-- **************** MAIN CONTENT START **************** -->
    <main>

        <!-- Page content START -->
        <section class="pt-5 pb-0">
            <div class="container">
                <div class="row g-0 g-lg-5">

                    <!-- Main content START -->
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <!-- Image Column -->
                            <div class="col-md-4 text-center">
                                <div class="card shadow p-2 mb-4">
                                    <div class="rounded-3 overflow-hidden">
                                        <img src="{{ tutor_single.profile.photo.url }}" class="img-fluid rounded protected-image"
                                             alt="{{ tutor_single.profile.user.first_name }} {{ tutor_single.profile.user.last_name }}">
                                    </div>
                                    <!-- Rating -->
                                    <ul class="list-inline mt-3">
                                        {% with rating=tutor_single.profile.rating %}
                                            {% for i in range %}
                                                <li class="list-inline-item me-0 small">
                                                    {% if i <= rating %}
                                                        <i class="fas fa-star text-warning"></i>
                                                    {% elif  i|float_sub:0.5 <= rating %}
                                                        <i class="fas fa-star-half-alt text-warning"></i>
                                                    {% else %}
                                                        <i class="far fa-star text-warning"></i>
                                                    {% endif %}
                                                </li>
                                            {% endfor %}
                                            <li class="list-inline-item ms-2 h6 fw-light mb-0">{{ rating }}/5.0</li>
                                        {% endwith %}
                                    </ul>
                                </div>


                            </div>
                            <!-- Text Column -->
                            <div class="col-md-8">
                                <h5 class="mb-0">Hi, I am</h5>
                                <h1 class="mb-0">{{ tutor_single.profile.user.first_name }} {{ tutor_single.profile.user.last_name }}</h1>
                                <p>{{ tutor_single.profile.title }}</p>
                                <p class="mt-4">{{ tutor_single.profile.bio|safe }}</p>
                            </div>

                        </div>

                        <!-- Counter START -->
                        <div class="row mt-4 g-3">
                            <!-- Counter item -->
                            <div class="col-sm-6 col-lg-4">
                                <div class="d-flex align-items-center">
                    <span class="icon-lg text-success mb-0 bg-success bg-opacity-10 rounded-3"><i
                            class="fas fa-play"></i></span>
                                    <div class="ms-3">
                                        <div class="d-flex">
                                            <h5 class="purecounter mb-0 fw-bold" data-purecounter-start="0"
                                                data-purecounter-end="{{ tutor_single.session_count }}"
                                                data-purecounter-delay="200">0</h5>
                                            <span class="mb-0 h5">+</span>
                                        </div>
                                        <p class="mb-0 h6 fw-light">Total Sessions</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Counter item -->
                            <div class="col-sm-6 col-lg-4">
                                <div class="d-flex align-items-center">
                    <span class="icon-lg text-purple bg-purple bg-opacity-10 rounded-3 mb-0"><i
                            class="fas fa-users"></i></span>
                                    <div class="ms-3">
                                        <div class="d-flex">
                                            <h5 class="purecounter mb-0 fw-bold" data-purecounter-start="0"
                                                data-purecounter-end="{{ tutor_single.student_count }}"
                                                data-purecounter-delay="200">0</h5>
                                            <span class="mb-0 h5">+</span>
                                        </div>
                                        <p class="mb-0 h6 fw-light">Total Students</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Counter item -->
                            <div class="col-sm-6 col-lg-4">
                                <div class="d-flex align-items-center">
                    <span class="icon-lg text-orange bg-orange bg-opacity-10 rounded-3 mb-0"><i
                            class="fas fa-trophy"></i></span>
                                    <div class="ms-3">
                                        <div class="d-flex">
                                            <h5 class="purecounter mb-0 fw-bold" data-purecounter-start="0"
                                                data-purecounter-end="{{ tutor_single.profile.user.skills|default:''|status:'approved'|length }}"
                                                data-purecounter-delay="200">0</h5>
                                            <span class="mb-0 h5">+</span>
                                        </div>
                                        <p class="mb-0 h6 fw-light">Total Skills</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Counter END -->

                        <!-- Tabs section START -->
                        <div class="mt-5">
                            <div class="card shadow rounded-2 p-0">
                                <!-- Tabs START -->
                                <div class="card-header border-bottom px-4 py-3">
                                    <ul class="nav nav-pills nav-tabs-line py-0" id="course-pills-tab" role="tablist">
                                        <!-- Tab item: Overview -->
                                        <li class="nav-item me-2 me-sm-4" role="presentation">
                                            <button class="nav-link mb-2 mb-md-0 active" id="course-pills-tab-1"
                                                    data-bs-toggle="pill"
                                                    data-bs-target="#course-pills-1" type="button" role="tab"
                                                    aria-controls="course-pills-1"
                                                    aria-selected="true">Overview
                                            </button>
                                        </li>
                                        <!-- Tab item: Reviews -->
                                        <li class="nav-item me-2 me-sm-4" role="presentation">
                                            <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-4"
                                                    data-bs-toggle="pill"
                                                    data-bs-target="#course-pills-4" type="button" role="tab"
                                                    aria-controls="course-pills-4"
                                                    aria-selected="false">Reviews
                                            </button>
                                        </li>
                                        <!-- Tab item: Tutor Schedule (Available Times) -->
                                        <li class="nav-item me-2 me-sm-4" role="presentation">
                                            <button class="nav-link mb-2 mb-md-0" id="course-pills-tab-5"
                                                    data-bs-toggle="pill"
                                                    data-bs-target="#course-pills-5" type="button" role="tab"
                                                    aria-controls="course-pills-5"
                                                    aria-selected="false">Schedule
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Tabs END -->

                                <!-- Tab contents START -->
                                <div class="card-body p-4">
                                    <div class="tab-content pt-2" id="course-pills-tabContent">
                                        <!-- Course Description Content START -->
                                        <div class="tab-pane fade show active" id="course-pills-1" role="tabpanel"
                                             aria-labelledby="course-pills-tab-1">
                                            <!-- Course detail START -->
                                            <h5 class="mb-3">Course Description</h5>
                                            <p class="mb-3">Welcome to the <strong> Digital Marketing Ultimate Course
                                                Bundle - 12 Courses in 1
                                                (Over 36 hours of content)</strong></p>
                                            <p class="mb-3">In this practical hands-on training, you’re going to learn
                                                to become a digital
                                                marketing expert with this <strong> ultimate course bundle that includes
                                                    12 digital marketing
                                                    courses in 1!</strong></p>
                                            <p class="mb-3">If you wish to find out the skills that should be covered in
                                                a basic digital
                                                marketing course syllabus in India or anywhere around the world, then
                                                reading this blog will
                                                help. Before we delve into the advanced <strong><a href="#"
                                                                                                   class="text-reset text-decoration-underline">digital
                                                    marketing course</a></strong> syllabus, let’s look at the scope of
                                                digital marketing and what
                                                the future holds.</p>
                                            <p class="mb-0">We focus a great deal on the understanding of behavioral
                                                psychology and influence
                                                triggers which are crucial for becoming a well rounded Digital Marketer.
                                                We understand that
                                                theory is important to build a solid foundation, we understand that
                                                theory alone isn’t going to
                                                get the job done so that’s why this course is packed with practical
                                                hands-on examples that you
                                                can follow step by step.</p>

                                            <!-- List content -->
                                            <h5 class="mt-4">What you’ll learn</h5>
                                            <ul class="list-group list-group-borderless mb-3">
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Digital
                                                    marketing course introduction
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Customer Life
                                                    cycle
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>What is Search
                                                    engine optimization(SEO)
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Facebook ADS
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Facebook
                                                    Messenger Chatbot
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Search engine
                                                    optimization tools
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Why SEO
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>URL Structure
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Featured
                                                    Snippet
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>SEO tips and
                                                    tricks
                                                </li>
                                                <li class="list-group-item h6 fw-light d-flex mb-0"><i
                                                        class="fas fa-check-circle text-success me-2"></i>Google tag
                                                    manager
                                                </li>
                                            </ul>

                                            <p class="mb-0">As it so contrasted oh estimating instrument. Size like body
                                                someone had. Are
                                                conduct viewing boy minutes warrant the expense? Tolerably behavior may
                                                admit daughters
                                                offending her ask own. Praise effect wishes change way and any wanted.
                                                Lively use looked latter
                                                regard had. Do he it part more last in. </p>

                                            <!-- Course detail END -->

                                        </div>
                                        <!-- Content END -->

                                        <!-- Reviews Content START -->
                                        <div class="tab-pane fade" id="course-pills-4" role="tabpanel"
                                             aria-labelledby="course-pills-tab-4">
                                            <!-- Review START -->
                                            <div class="row mb-4">
                                                <h5 class="mb-4">Student Reviews</h5>

                                                <!-- Rating info -->
                                                <div class="col-md-4 mb-3 mb-md-0">
                                                    <div class="text-center">
                                                        {% with rating=tutor_single.profile.rating %}
                                                            <!-- Info -->
                                                            <h2 class="mb-0">{{ rating|floatformat:1 }}</h2>
                                                            <!-- Star -->
                                                            <ul class="list-inline ">
                                                                {% for i in range %}
                                                                    <li class="list-inline-item me-0 small">
                                                                        {% if i <= rating %}
                                                                            <i class="fas fa-star text-warning"></i>
                                                                        {% elif  i|float_sub:0.5 <= rating %}
                                                                            <i class="fas fa-star-half-alt text-warning"></i>
                                                                        {% else %}
                                                                            <i class="far fa-star text-warning"></i>
                                                                        {% endif %}
                                                                    </li>
                                                                {% endfor %}
                                                            </ul>
                                                            <p class="mb-0">Based on {{ total_reviews }}
                                                                review{{ total_reviews|pluralize }}</p>
                                                        {% endwith %}
                                                    </div>
                                                </div>

                                                <!-- Progress-bar and star -->
                                                <div class="col-md-8">
                                                    <div class="row align-items-center">
                                                        <!-- Loop through ratings 5 to 1 -->
                                                        {% for star in "54321" %}
                                                            {% with star_num=star|add:0 %}
                                                                {% with dist=rating_distribution|get_item:star_num %}
                                                                    <!-- Progress bar and Rating -->
                                                                    <div class="col-6 col-sm-8">
                                                                        <!-- Progress item -->
                                                                        <div class="progress progress-sm bg-warning bg-opacity-15">
                                                                            <div class="progress-bar bg-warning"
                                                                                 role="progressbar"
                                                                                 style="width: {{ dist.percentage }}%"
                                                                                 aria-valuenow="{{ dist.percentage }}"
                                                                                 aria-valuemin="0"
                                                                                 aria-valuemax="100"></div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-6 col-sm-4">
                                                                        <!-- Star item -->
                                                                        <ul class="list-inline mb-0">
                                                                            {% for i in range %}
                                                                                <li class="list-inline-item me-0 small">
                                                                                    {% if i <= star_num %}
                                                                                        <i class="fas fa-star text-warning"></i>
                                                                                    {% else %}
                                                                                        <i class="far fa-star text-warning"></i>
                                                                                    {% endif %}
                                                                                </li>
                                                                            {% endfor %}
                                                                            <!-- Optional: Show count -->
                                                                            <li class="list-inline-item ms-2 small text-muted">
                                                                                ({{ dist.count }})
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                {% endwith %}
                                                            {% endwith %}
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Review END -->

                                            <!-- Rest of your reviews loop remains the same -->
                                            {% for review in reviews %}
                                                <!-- Student review START -->
                                                <div class="row">
                                                    <!-- Review item START -->
                                                    <div class="d-md-flex my-4">
                                                        <!-- Avatar -->
                                                        <div class="avatar avatar-xl me-4 flex-shrink-0">
                                                            <img class="avatar-img rounded-circle protected-image"
                                                                 src="{{ review.client.profile.photo.url }}"
                                                                 alt="{{ review.client.profile.user.first_name }} {{ review.client.profile.user.last_name }}">
                                                        </div>
                                                        <!-- Text -->
                                                        <div>
                                                            <div class="d-sm-flex mt-1 mt-md-0 align-items-center">
                                                                <h5 class="me-3 mb-0">{{ review.client.profile.user.first_name }} {{ review.client.profile.user.last_name }}</h5>
                                                                <!-- Review star -->
                                                                <ul class="list-inline mb-0">
                                                                    {% with rating=review.rate_provider %}
                                                                        {% for i in range %}
                                                                            <li class="list-inline-item me-0">
                                                                                {% if i <= rating %}
                                                                                    <i class="fas fa-star text-warning"></i>
                                                                                {% else %}
                                                                                    <i class="far fa-star text-warning"></i>
                                                                                {% endif %}
                                                                            </li>
                                                                        {% endfor %}
                                                                    {% endwith %}
                                                                </ul>
                                                            </div>
                                                            <!-- Info -->
                                                            <p class="small mb-2">{{ review.create_date|timesince }}
                                                                ago</p>
                                                            <p class="mb-2">{{ review.message }} </p>
                                                            <!-- Like and dislike button -->
                                                            {#                                                            <div class="btn-group" role="group"#}
                                                            {#                                                                 aria-label="Basic radio toggle button group">#}
                                                            {#                                                                <!-- Like button -->#}
                                                            {#                                                                <input type="radio" class="btn-check" name="btnradio"#}
                                                            {#                                                                       id="btnradio-{{ review.id }}">#}
                                                            {#                                                                <label class="btn btn-outline-success btn-sm mb-0"#}
                                                            {#                                                                       for="btnradio-{{ review.id }}"><i#}
                                                            {#                                                                        class="far fa-thumbs-up me-1"></i>{{ review.like_count }}#}
                                                            {#                                                                </label>#}
                                                            {#                                                                <!-- Dislike button -->#}
                                                            {#                                                                <input type="radio" class="btn-check" name="btnradio"#}
                                                            {#                                                                       id="btnradio-{{ review.id }}">#}
                                                            {#                                                                <label class="btn btn-outline-danger btn-sm mb-0"#}
                                                            {#                                                                       for="btnradio-{{ review.id }}"> <i#}
                                                            {#                                                                        class="far fa-thumbs-down me-1"></i>{{ review.dislike_count }}#}
                                                            {#                                                                </label>#}
                                                            {#                                                            </div>#}
                                                        </div>
                                                    </div>
                                                    <!-- Review item END -->
                                                    <!-- Divider -->
                                                    <hr>
                                                </div>
                                                <!-- Student review END -->
                                            {% endfor %}
                                        </div>
                                        <!-- Content END -->

                                        <!-- Schedule Content II START -->
                                        <div class="tab-pane fade" id="course-pills-5" role="tabpanel"
                                             aria-labelledby="course-pills-tab-5">
                                            <!-- Header Section -->
                                            <div class="d-flex justify-content-between align-items-start mb-4">
                                                <div>
                                                    <h5 class="fw-semibold mb-1">Tutor Availability</h5>
                                                    <p class="text-muted mb-0">View available time slots for booking
                                                        lessons</p>
                                                </div>
                                            </div>

                                            <!-- Information Note -->
                                            <div class="alert alert-info border-0 rounded-3 mt-4 mb-3">
                                                <div class="d-flex align-items-center">
                                                    <i class="bi bi-info-circle-fill text-primary fs-5 me-3"></i>
                                                    <div class="flex-grow-1">
                                                        <small class="fw-medium">Timezone Information</small>
                                                        <p class="mb-0 small">All times are displayed in your
                                                            selected timezone and will adjust automatically when
                                                            changed.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Control Row -->
{#                                            <div class="row g-3 align-items-end mb-4">#}
{#                                                <!-- Duration Selector -->#}
{#                                                <div class="col-md-3">#}
{#                                                    <label class="form-label fw-semibold">Duration</label>#}
{#                                                    <div class="btn-group" role="group">#}
{#                                                        <input type="radio" class="btn-check" name="duration"#}
{#                                                               id="duration25" autocomplete="off" checked>#}
{#                                                        <label class="btn btn-outline-primary duration-btn"#}
{#                                                               for="duration25">#}
{#                                                            <i class="bi bi-clock me-2"></i>30 mins#}
{#                                                        </label>#}
{##}
{#                                                        <input type="radio" class="btn-check" name="duration"#}
{#                                                               id="duration50" autocomplete="off">#}
{#                                                        <label class="btn btn-outline-primary duration-btn"#}
{#                                                               for="duration50">#}
{#                                                            <i class="bi bi-clock-history me-2"></i>60 mins#}
{#                                                        </label>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}

                                            <!-- Week Navigation Row -->
                                            <div class="row align-items-center g-3 bg-light bg-opacity-100 pb-4 my-3" style="border-radius: 10px;">
                                                <!-- Week Selector -->
                                                <div class="col-12 col-md-5 col-lg-4 mb-0 ">
                                                    <label for="startDayOfWeek" class="form-label mb-1">Choose
                                                        Week</label>
                                                    <div class="d-flex align-items-center justify-content-center gap-3">
                                                        <button class="btn btn-primary-soft btn-sm">
                                                            <i class="bi bi-chevron-left me-1"></i>
                                                        </button>
                                                        <div class="text-center">
                                                            <h6 class="fw-semibold mb-0">June 4 - 10, 2023</h6>
                                                            <small class="text-muted">Current week</small>
                                                        </div>
                                                        <button class="btn btn-primary-soft btn-sm">
                                                            <i class="bi bi-chevron-right ms-1"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <!-- Start Day Dropdown -->
                                                <div class="col-12 col-md-4 col-lg-4">
                                                    <label for="startDayOfWeek" class="form-label mb-1">Start day of
                                                        week</label>
                                                    <select id="startDayOfWeek" name="startDayOfWeek"
                                                            class="form-select">
                                                        <option value="0">Sunday</option>
                                                        <option value="1">Monday</option>
                                                        <option value="2">Tuesday</option>
                                                        <option value="3">Wednesday</option>
                                                        <option value="4">Thursday</option>
                                                        <option value="5">Friday</option>
                                                        <option value="6">Saturday</option>
                                                    </select>
                                                </div>
                                                <!-- Timezone Dropdown -->
                                                <div class="col-12 col-md-3 col-lg-4">
                                                    <label for="timezone-select" class="form-label mb-1">Time
                                                        Zone</label>
                                                    <select id="timezone-select" class="form-select">
                                                        <option value="UTC">UTC</option>
                                                        <option value="Europe/London">London (GMT)</option>
                                                        <option value="Asia/Tehran">Tehran (IRST)</option>
                                                        <option value="Europe/Berlin">Berlin (DST)</option>
                                                        <option value="America/New_York">New York (EST)</option>
                                                        <option value="Asia/Tokyo">Tokyo (JST)</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!-- Schedule Table -->
                                            <div class="table-responsive rounded-3 border-0">
                                                <table class="table table-borderless mb-0">
                                                    <thead>
                                                    <tr class="">
                                                        {% for day in week_schedule %}
                                                            <th class="text-center py-3 pb-4 position-relative {% if not day.available %}text-muted{% endif %}">
                                                                <div class="d-flex flex-column align-items-center">
                                                                    <span class="fw-semibold fs-6">{{ day.name }}</span>
                                                                    <span class="text-muted small mt-1">{{ day.date }}</span>
                                                                </div>
                                                                <div class="position-absolute bottom-0 start-50 translate-middle-x w-75 border-bottom
                                    {% if day.available %}border-primary border-4 {% else %}border-secondary border-4 {% endif %}">
                                                                </div>
                                                            </th>
                                                        {% endfor %}
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        {% for day in week_schedule %}
                                                            <td class="align-top {% if not day.available %}bg-light bg-opacity-50{% else %} bg-opacity-10 {% endif %}"
                                                                style="height: 300px; vertical-align: top;">
                                                                <div class="d-flex flex-column align-items-center h-100 py-3">
                                                                    {% if day.time_slots %}
                                                                        {% for slot in day.time_slots %}
                                                                            <span class="badge bg-primary bg-opacity-10 text-primary fw-normal
                                            border border-primary border-opacity-25 rounded-2 px-3 py-2 mb-2 w-75 text-center">
                                    {{ slot.start_time|time:"H:i" }}
                                </span>
                                                                        {% endfor %}
                                                                    {% else %}
                                                                        <div class="d-flex flex-column align-items-center justify-content-center h-100 text-muted">
                                                                            <small>No availability</small>
                                                                        </div>
                                                                    {% endif %}
                                                                </div>
                                                            </td>
                                                        {% endfor %}
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>
                                        <!-- Schedule Content II END -->

                                    </div>
                                </div>
                                <!-- Tab contents END -->
                            </div>
                        </div>
                        <!-- Tabs section END -->
                    </div>
                    <!-- Main content END -->

                    <!-- Right sidebar START -->
                    <div class="col-lg-4">
                        <div class="row">
                            <!-- Tutor Skill Video START -->
                            <div class="carousel slide mb-5 shadow-lg pt-3" id="skillVideoCarousel"
                                 data-bs-ride="false">
                                <!-- Main video slides -->
                                <div class="carousel-inner ratio ratio-16x9">
                                    {% for skill in tutor_single.profile.user.skills.all|status:'approved' %}
                                        <div class="carousel-item {% if forloop.first %}active{% endif %}"
                                             data-bs-slide-to="{{ forloop.counter0 }}">
                                            <video controls crossorigin="anonymous" playsinline
                                                   poster="
                                                               {% if skill.thumbnail %}
                                                                    {{ skill.thumbnail.url }}
                                                                {% else %}
                                                                    {{ tutor_single.profile.photo.url }}
                                                                {% endif %}">
                                                <source src="{% if skill.video %}{{ skill.video.url }}{% endif %}"
                                                        type="video/mp4">
                                            </video>
                                        </div>
                                    {% endfor %}
                                </div>

                                <!-- Thumbnail navigation -->
                                <div class="carousel-indicators-section">
                                    <button class="thumbnail-nav thumbnail-prev">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="thumbnail-nav thumbnail-next">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>

                                    <div class="carousel-thumbnails">
                                        {% for skill in tutor_single.profile.user.skills.all|status:'approved' %}
                                            <!-- thumbnail -->
                                            <div class="thumbnail-item {% if forloop.first %}active{% endif %}"
                                                 data-bs-target="#skillVideoCarousel"
                                                 data-bs-slide-to="{{ forloop.counter0 }}"
                                                 data-bs-toggle="tooltip"
                                                 data-bs-placement="bottom"
                                                 title="{{ skill.skill }}">
                                                <img class="protected-image" src="
                                                            {% if skill.thumbnail %}
                                                                {{ skill.thumbnail.url }}
                                                            {% else %}
                                                                {{ tutor_single.profile.photo.url }}
                                                            {% endif %}"
                                                     alt="{{ skill.skill }}"
                                                     loading="lazy">
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>

                                <!-- Card body -->
                                <div class="card-body px-4 py-4 mt-3  ">
                                    <!-- Rating -->
                                    {#                                    <ul class="list-inline text-center">#}
                                    {#                                        {% with rating=tutor_single.profile.rating %}#}
                                    {#                                            {% for i in range %}#}
                                    {#                                                <li class="list-inline-item me-0 small">#}
                                    {#                                                    {% if i <= rating %}#}
                                    {#                                                        <i class="fas fa-star text-warning"></i>#}
                                    {#                                                    {% elif  i|float_sub:0.5 <= rating %}#}
                                    {#                                                        <i class="fas fa-star-half-alt text-warning"></i>#}
                                    {#                                                    {% else %}#}
                                    {#                                                        <i class="far fa-star text-warning"></i>#}
                                    {#                                                    {% endif %}#}
                                    {#                                                </li>#}
                                    {#                                            {% endfor %}#}
                                    {#                                            <li class="list-inline-item ms-2 h6 fw-light mb-0">{{ rating }}/5.0</li>#}
                                    {#                                        {% endwith %}#}
                                    {#                                    </ul>#}

                                    <!-- Info -->
                                    <div class="d-flex justify-content-between align-items-center">
                                        <!-- Price and time -->
                                        <div>
                                            {% if discount_valid %}
                                                <div class="d-flex align-items-center">
                                                    <h3 class="fw-bold mb-0 me-2">
                                                        ${{ discounted_price|format_decimal:2 }}
                                                    </h3>
                                                    <span class="text-decoration-line-through mb-0 me-2">${{ tutor_single.cost_hourly }}</span>
                                                    <span class="badge text-bg-danger mb-0">{{ tutor_single.discount }}% off</span>
                                                </div>
                                                {% if remaining_time %}
                                                    <p class="mb-0 text-danger"><i
                                                            class="fas fa-stopwatch me-2"></i>{{ remaining_time }}
                                                        left at this price</p>
                                                {% endif %}
                                            {% else %}
                                                <div class="d-flex align-items-center">
                                                    <h3 class="fw-bold mb-0 me-2">
                                                        ${{ tutor_single.cost_hourly }}
                                                    </h3>
                                                </div>
                                            {% endif %}
                                        </div>

                                        <!-- Share button with dropdown -->
                                        <div class="dropdown">
                                            <!-- Share button -->
                                            <a href="#" class="btn btn-sm btn-light rounded small" role="button"
                                               id="dropdownShare"
                                               data-bs-toggle="dropdown" aria-expanded="false">
                                                <i class="fas fa-fw fa-share-alt"></i> Share
                                            </a>
                                            <!-- dropdown menu -->
                                            <ul class="dropdown-menu dropdown-w-sm dropdown-menu-end min-w-auto shadow rounded"
                                                aria-labelledby="dropdownShare">
                                                <li>
                                                    <a class="dropdown-item share-social share-btn" href="#"
                                                       data-platform="twitter">
                                                        <i class="fab fa-twitter text-info me-2"></i>Twitter
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="dropdown-item share-social share-btn" href="#"
                                                       data-platform="facebook">
                                                        <i class="fab fa-facebook text-primary me-2"></i>Facebook
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="dropdown-item share-social share-btn" href="#"
                                                       data-platform="linkedin">
                                                        <i class="fab fa-linkedin text-primary me-2"></i>LinkedIn
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="dropdown-item share-social share-btn" href="#"
                                                       data-platform="whatsapp">
                                                        <i class="fab fa-whatsapp text-success me-2"></i>WhatsApp
                                                    </a>
                                                </li>
                                                <li>
                                                    <hr class="dropdown-divider">
                                                </li>
                                                <li>
                                                    <a class="dropdown-item share-btn" href="#" id="copyLinkBtn">
                                                        <i class="fas fa-copy me-2"></i>Copy link
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="dropdown-item" href="#" id="shareNativeBtn">
                                                        <i class="fas fa-share-alt me-2"></i>Share via...
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>

                                        <!-- Hidden URL for copying https://your-lms.com/tutor/john-smith-123 -->
                                        <input type="text" class="form-control share-url-input mt-2" readonly
                                               id="tutorShareUrl" value="https://{{ request.get_host }}{% url 'provider:tutor_short' tutor_single.public_id %}"
                                               style="display: none;">
                                        <!-- Toast Notification -->
                                        <div class="toast align-items-center text-white bg-success border-0"
                                             id="copyToast">
                                            <div class="d-flex">
                                                <div class="toast-body">
                                                    Link copied to clipboard!
                                                </div>
                                                <button type="button" class="btn-close btn-close-white me-2 m-auto"
                                                        data-bs-dismiss="toast"></button>
                                            </div>
                                        </div>
                                        {#                                    Shared buttons END ------------------------------------------------------------- #}


                                    </div>

                                    <!-- Buttons -->
                                    {#                                    <div class="mt-3 d-sm-flex justify-content-sm-between">#}
                                    {#                                        {% if tutor_single.cost_trial != 0 %}#}
                                    {#                                            <a href="#" class="btn btn-outline-primary mb-0">Trial Session for#}
                                    {#                                                ${{ tutor_single.cost_trial|floatformat:0 }}</a>#}
                                    {#                                        {% else %}#}
                                    {#                                            <a href="#" class="btn btn-outline-primary mb-0">Free Trial</a>#}
                                    {#                                        {% endif %}#}
                                    {#                                        <a href="{% url 'provider:tutor_reserve' tutor_single.pk %}"#}
                                    {#                                           class="col-12 btn btn-success mb-0 ">Reserve Class</a>#}
                                    {#                                    </div>#}


                                    <div class="mt-3">
                                        {% if tutor_single.cost_trial != 0 %}
                                            <a href="#" class="btn btn-outline-primary mb-2 col-12">
                                                Trial Session for ${{ tutor_single.cost_trial|floatformat:0 }}
                                            </a>
                                        {% else %}
                                            <a href="#" class="btn btn-outline-primary mb-2 col-12">
                                                Free Trial
                                            </a>
                                        {% endif %}
                                        <a href="{% url 'provider:tutor_reserve' tutor_single.pk %}"
                                           class="btn btn-success col-12">
                                            Reserve Class
                                        </a>
                                    </div>

                                </div>
                            </div>
                            <!-- Tutor Skill Video END -->

                            <!-- Skills & Education START -->
                            <div class="col-md-6 col-lg-12 px-0">
                                <div class="card card-body shadow p-4 mb-4">
                                    <!-- Skills START -->
                                    <h4 class="mb-3">Skills</h4>
                                    {% for skill in tutor_single.profile.user.skills.all %}
                                        {% if skill.status == 'approved' %}
                                            <!-- Progress item -->
                                            <div class="overflow-hidden mb-4">
                                                <h6 class="uppercase">{{ skill.skill }} </h6>
                                                <div class="progress progress-sm bg-primary bg-opacity-10">
                                                    <div class="progress-bar aos" role="progressbar"
                                                         data-aos="slide-right"
                                                         data-aos-delay="200" data-aos-duration="1000"
                                                         data-aos-easing="ease-in-out"
                                                         style="width: {{ skill.progress_percent }}%; background-color: {{ skill.progress_color }};"
                                                         aria-valuenow="90" aria-valuemin="0"
                                                         aria-valuemax="100">
                                                        <span class="progress-percent-simple h6 mb-0">{{ skill.level.name|capfirst }}</span>
                                                        <span class="progress-percent-simple h6 mb-0"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                    <hr> <!-- Divider -->

                                    <!-- Skills END -->

                                    <!-- Education START -->
                                    {% if approved_educations.count > 0 %}
                                        <!-- Title -->
                                        <h4 class="mb-3">Education</h4>
                                        {% for edu in tutor_single.profile.user.educations.all %}
                                            {% if edu.status == 'approved' %}
                                                <!-- Education item -->
                                                <div class="d-flex align-items-center mb-4">
                                        <span class="icon-md mb-0 bg-light rounded-3"><i
                                                class="fas fa-graduation-cap"></i></span>
                                                    <div class="ms-3">
                                                        <h6 class="mb-0">{{ edu.institution }}</h6>
                                                        <p class="mb-0 small">{{ edu.degree }}
                                                            in {{ edu.field_of_study }}</p>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                    <!-- Education END -->
                                </div>
                            </div>
                            <!-- Skills & Education END -->
                        </div>
                        <!-- Row End -->
                    </div>
                    <!-- Right sidebar END -->


                </div>
                <!-- Row END -->
            </div>
        </section>
        <!-- Page content END -->


        <!-- Related instructor START -->
        <section>
            <div class="container">
                <!-- Title -->
                <div class="row mb-4">
                    <h2 class="mb-0">Related Tutors</h2>
                </div>

                <!-- Slider START -->
                <div class="tiny-slider arrow-round arrow-creative arrow-blur arrow-hover">
                    <div class="tiny-slider-inner" data-autoplay="false" data-arrow="true" data-dots="false"
                         data-items="4"
                         data-items-lg="3" data-items-md="2" data-items-xs="1">
                        {% for r_tutor in related_tutors %}
                            <!-- Card item START -->
                            <div class="card bg-transparent">
                                <div class="position-relative">
                                    <!-- Image -->
                                    <img src="{{ r_tutor.profile.photo.url }}" class="card-img protected-image" alt="course image"
                                            {#                                         style="min-height: 316px; max-height: 316px; min-width: 316px; max-width: 316px;"#}
                                    >
                                    <!-- Overlay -->
                                    <div class="card-img-overlay d-flex flex-column p-3">
                                        <div class="w-100 mt-auto text-end">
                                            <!-- Card category -->
                                            <a href="#" class="badge text-bg-info rounded-1"><i
                                                    class="fas fa-user-graduate me-2"></i>{{ r_tutor.student_count }}
                                            </a>
                                            <a href="#" class="badge text-bg-orange rounded-1"><i
                                                    class="fas fa-clipboard-list me-2"></i>{{ r_tutor.session_count }}
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card body -->
                                <div class="card-body text-center">
                                    <!-- Title -->
                                    <h5 class="card-title"><a
                                            href="{% url 'provider:tutor_detail' r_tutor.slug %}">{{ r_tutor.profile.user.first_name }} {{ r_tutor.profile.user.last_name }}</a>
                                    </h5>
                                    <p class="mb-2">{{ r_tutor.profile.title }}</p>
                                    <!-- Rating -->
                                    <ul class="list-inline ">
                                        {% with rating=r_tutor.profile.rating %}
                                            {% for i in range %}
                                                <li class="list-inline-item me-0 small">
                                                    {% if i <= rating %}
                                                        <i class="fas fa-star text-warning"></i>
                                                    {% elif  i|float_sub:0.5 <= rating %}
                                                        <i class="fas fa-star-half-alt text-warning"></i>
                                                    {% else %}
                                                        <i class="far fa-star text-warning"></i>
                                                    {% endif %}
                                                </li>
                                            {% endfor %}
                                            <li class="list-inline-item ms-2 h6 fw-light mb-0">{{ rating }}/5.0</li>
                                        {% endwith %}
                                    </ul>
                                </div>
                            </div>
                            <!-- Card item END -->
                        {% endfor %}

                    </div>
                </div>
                <!-- Slider END -->

            </div>
        </section>
        <!-- Related instructor END -->

    </main>
    <!-- **************** MAIN CONTENT END **************** -->
{% endblock %}


{% block scripts_vendors %}
    <!-- Vendors -->
    <script src="{% static 'assets/vendor/purecounterjs/dist/purecounter_vanilla.js' %}"></script>
    <script src="{% static 'assets/vendor/tiny-slider/tiny-slider.js' %}"></script>
    <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize carousel
            const carousel = new bootstrap.Carousel('#skillVideoCarousel', {
                interval: false,
                wrap: false
            });

            // Initialize tooltips
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl, {
                    trigger: 'hover'
                });
            });

            // Video control
            const carouselEl = document.getElementById('skillVideoCarousel');

            // Pause videos when changing slides
            carouselEl.addEventListener('slid.bs.carousel', function (e) {
                // Pause all videos
                this.querySelectorAll('video').forEach(video => {
                    video.pause();
                });

                // Update active thumbnail
                const activeIndex = e.to;
                document.querySelectorAll('.thumbnail-item').forEach((item, index) => {
                    item.classList.toggle('active', index === activeIndex);
                });

                // Auto-play current video if desired
                // const activeVideo = e.relatedTarget.querySelector('video');
                // if (activeVideo) activeVideo.play();
            });

            // Thumbnail navigation
            const thumbnailsContainer = document.querySelector('.carousel-thumbnails');
            const prevBtn = document.querySelector('.thumbnail-prev');
            const nextBtn = document.querySelector('.thumbnail-next');

            prevBtn.addEventListener('click', () => {
                thumbnailsContainer.scrollBy({left: -200, behavior: 'smooth'});
            });

            nextBtn.addEventListener('click', () => {
                thumbnailsContainer.scrollBy({left: 200, behavior: 'smooth'});
            });

            // Center active thumbnail
            function centerActiveThumbnail() {
                const activeThumb = document.querySelector('.thumbnail-item.active');
                if (activeThumb) {
                    const containerWidth = thumbnailsContainer.offsetWidth;
                    const thumbPos = activeThumb.offsetLeft;
                    const thumbWidth = activeThumb.offsetWidth;
                    const scrollPos = thumbPos - (containerWidth / 2) + (thumbWidth / 2);

                    thumbnailsContainer.scrollTo({
                        left: scrollPos,
                        behavior: 'smooth'
                    });
                }
            }

            // Initial center
            centerActiveThumbnail();

            // Center on carousel slide
            carouselEl.addEventListener('slid.bs.carousel', centerActiveThumbnail);
        });
    </script>
{% endblock %}

{% block embed_scripts1 %}
    <script>
        function showEmbedVideo() {
            var container = document.getElementById('tutor-container');
            var imageWrapper = document.getElementById('tutor-image-wrapper');

            if (container && imageWrapper) {
                var videoContainer = document.createElement('div');
                videoContainer.className = 'overflow-hidden rounded-3';
                videoContainer.style.position = 'relative';
                videoContainer.style.paddingTop = '56.25%'; // Maintain aspect ratio

                videoContainer.innerHTML = `
                <iframe src="
                            {% if tutor_single.video_url %}
                            {{ tutor_single.video_url }}
                            {% else %}
                            https://www.aparat.com/video/video/embed/videohash/bsbhy86/vt/frame
                            {% endif %}
    "
                        allowFullScreen="true"
                        webkitallowfullscreen="true"
                        mozallowfullscreen="true"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;">

                </iframe>`;

                while (container.firstChild) {
                    container.removeChild(container.firstChild);
                }

                container.appendChild(videoContainer);
            } else {
                console.error('Element not found');
            }
        }
    </script>

{% endblock %}
{% block my_scripts %}

    {#    Script for share button#}
    <script>
        // SIMPLEST POSSIBLE SOLUTION
        const tutorUrl = window.location.href; // Gets current page URL (SEO slugs)
        const tutorShareUrl = document.getElementById('tutorShareUrl').value; // Gets current page share URL
        const shareText = "Check out this amazing tutor!";
        // Social sharing
        document.querySelectorAll('.share-btn').forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.preventDefault();
                const platform = this.getAttribute('data-platform');
                const urls = {
                    twitter: `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(tutorUrl)}`,
                    facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(tutorUrl)}`,
                    linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(tutorUrl)}`,
                    whatsapp: `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + tutorUrl)}`
                };
                if (urls[platform]) window.open(urls[platform], '_blank');
            });
        });

        // Copy link
        document.getElementById('copyLinkBtn').addEventListener('click', function (e) {
            e.preventDefault();
            {#navigator.clipboard.writeText(tutorUrl);#}
            navigator.clipboard.writeText(tutorShareUrl);
            alert('Link copied!'); // Simple feedback
        });
    </script>

    <!-- Script for Tutor Available times-->
    <script>
        // Duration selector functionality
        document.getElementById('duration25').addEventListener('change', function () {
            if (this.checked) {
                // Handle 25-minute duration selection
                console.log('25 minutes selected');
            }
        });

        document.getElementById('duration50').addEventListener('change', function () {
            if (this.checked) {
                // Handle 50-minute duration selection
                console.log('50 minutes selected');
            }
        });

        // Timezone selector
        document.querySelector('.form-select').addEventListener('change', function () {
            console.log('Timezone changed to:', this.value);
        });
    </script>


{% endblock %}