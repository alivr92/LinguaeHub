<div class="container py-4">
  <!-- Progress Bar -->
  <div class="mb-4">
    <div class="d-flex justify-content-between mb-2">
      <span class="text-muted">Step 3 of 5</span>
      <span class="text-muted">50% complete</span>
    </div>
    <div class="progress" style="height: 8px;">
      <div class="progress-bar bg-primary" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
  </div>

  <!-- Page Header -->
  <div class="text-center mb-5">
    <h2 class="fw-bold">Your Teaching Skills</h2>
    <p class="text-muted">Showcase your expertise and teaching qualifications</p>
  </div>

  <!-- Important Information Card -->
  <div class="card border-0 shadow-sm mb-4">
    <div class="card-header bg-light border-bottom d-flex align-items-center">
      <i class="bi bi-info-circle-fill text-primary me-2"></i>
      <h5 class="mb-0">Important Guidelines</h5>
    </div>
    <div class="card-body">
      <div class="alert alert-info bg-light border-0 mb-3">
        <div class="d-flex">
          <i class="bi bi-lightbulb-fill text-warning me-3 mt-1"></i>
          <div>
            <p class="mb-1"><strong>Complete profiles get 3x more student inquiries</strong></p>
            <p class="mb-0">Following these guidelines will help us approve your application faster.</p>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <ul class="list-unstyled">
            <li class="mb-2 d-flex">
              <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
              <span>Select the highest level you're <strong>fully skilled</strong> in and can <strong>confidently teach</strong></span>
            </li>
            <li class="mb-2 d-flex">
              <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
              <span>Our reviewers will verify and approve your final skill levels</span>
            </li>
            <li class="mb-2 d-flex">
              <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
              <span>Videos and certificates are <strong>optional but highly recommended</strong></span>
            </li>
          </ul>
        </div>
        <div class="col-md-6">
          <ul class="list-unstyled">
            <li class="mb-2 d-flex">
              <i class="bi bi-exclamation-triangle-fill text-warning me-2 mt-1"></i>
              <span><strong>Introduction video is mandatory</strong> and will appear on your profile</span>
            </li>
            <li class="mb-2 d-flex">
              <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>
              <span>Standard users can add <strong>3 skills</strong>, VIP users get <strong>5 skills</strong></span>
            </li>
            <li class="mb-2 d-flex">
              <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>
              <span>Recommended video length: <strong>1-3 minutes</strong></span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Introduction Video Section -->
  <div class="card border-0 shadow-sm mb-4">
    <div class="card-header bg-light border-bottom d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Introduction Video <span class="text-danger">*</span></h5>
      <span class="badge bg-danger">Required</span>
    </div>
    <div class="card-body">
      <div class="alert alert-warning bg-light border-0 mb-4">
        <div class="d-flex">
          <i class="bi bi-camera-video-fill text-warning me-3 mt-1"></i>
          <div>
            <p class="mb-1"><strong>This is your chance to make a great first impression</strong></p>
            <p class="mb-0">Students are 5x more likely to book tutors with introduction videos.</p>
          </div>
        </div>
      </div>

      <div class="file-upload-area border rounded p-4 text-center bg-light">
        <i class="bi bi-camera-video fs-1 text-muted mb-3"></i>
        <h5 class="mb-2">Upload your introduction video</h5>
        <p class="text-muted mb-3">MP4, MOV, or AVI (Max 100MB)</p>
        <div class="d-flex justify-content-center gap-3">
          <input type="file" id="intro-video-upload" class="d-none" accept=".mp4,.mov,.avi" required>
          <label for="intro-video-upload" class="btn btn-primary">
            <i class="bi bi-upload me-2"></i>Select File
          </label>
          <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#videoGuidelinesModal">
            <i class="bi bi-question-circle me-2"></i>Guidelines
          </button>
        </div>
        <div id="intro-video-filename" class="mt-3 small text-muted"></div>
      </div>

      <div class="mt-3">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="video-consent" required>
          <label class="form-check-label" for="video-consent">
            I confirm this video represents my teaching abilities and may be used on my public profile
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Teaching Skills Section -->
  <div class="card border-0 shadow-sm mb-4">
    <div class="card-header bg-light border-bottom d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Your Teaching Skills</h5>
      <span class="badge bg-primary">Up to 3 skills</span>
    </div>
    <div class="card-body">
      <div id="skills-container">
        <!-- Skill entries will be added here -->
      </div>

      <div class="d-flex justify-content-between align-items-center mt-3">
        <div id="skill-limit-alert" class="alert alert-warning py-2 mb-0 d-none">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>Maximum skills reached
        </div>
        <button type="button" id="add-skill" class="btn btn-outline-primary">
          <i class="bi bi-plus-circle me-2"></i>Add Skill
        </button>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <div class="d-flex justify-content-between mt-5">
    <button type="button" class="btn btn-outline-secondary" id="btn-prev">
      <i class="bi bi-arrow-left me-2"></i>Back
    </button>
    <div>
      <button type="button" class="btn btn-light me-2" id="btn-save">
        <i class="bi bi-save me-2"></i>Save Draft
      </button>
      <button type="button" class="btn btn-primary" id="btn-next">
        Continue<i class="bi bi-arrow-right ms-2"></i>
      </button>
    </div>
  </div>
</div>

<!-- Skill Entry Template -->
<template id="skill-template">
  <div class="skill-entry mb-4 p-3 border rounded">
    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">Teaching Skill <span class="text-danger">*</span></label>
        <select class="form-select" name="skill" required>
          <option value="">Select a skill</option>
          {% for skill in skills %}
            <option value="{{ skill.id }}">{{ skill }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Skill Level <span class="text-danger">*</span></label>
        <select class="form-select" name="level" required>
          <option value="">Select level</option>
          {% for level in levels %}
            <option value="{{ level.id }}">{{ level }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Demonstration Video</label>
        <input type="file" class="form-control" name="skill_video" accept=".mp4,.mov,.avi">
        <small class="text-muted">Optional</small>
      </div>
      <div class="col-md-2">
        <label class="form-label">Certificate</label>
        <input type="file" class="form-control" name="certificate" accept=".pdf,.doc,.docx,.png,.jpg,.jpeg">
        <small class="text-muted">Optional</small>
      </div>
      <div class="col-12 text-end">
        <button type="button" class="btn btn-sm btn-outline-danger remove-skill">
          <i class="bi bi-trash me-1"></i>Remove
        </button>
      </div>
    </div>
  </div>
</template>

<!-- Video Guidelines Modal -->
<div class="modal fade" id="videoGuidelinesModal" tabindex="-1" aria-labelledby="videoGuidelinesModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="videoGuidelinesModalLabel"><i class="bi bi-camera-video me-2"></i>Video Guidelines</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="alert alert-info bg-light border-0">
          <div class="d-flex">
            <i class="bi bi-lightbulb-fill text-warning me-3 mt-1"></i>
            <div>
              <p class="mb-1"><strong>Great introduction videos get more students</strong></p>
              <p class="mb-0">Follow these tips to create an effective video.</p>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <h6 class="fw-bold mb-3"><i class="bi bi-check-circle-fill text-success me-2"></i>Do:</h6>
            <ul class="list-unstyled">
              <li class="mb-2 d-flex">
                <i class="bi bi-check me-2 mt-1"></i>
                <span>Introduce yourself and your teaching experience</span>
              </li>
              <li class="mb-2 d-flex">
                <i class="bi bi-check me-2 mt-1"></i>
                <span>Speak clearly in each language you teach</span>
              </li>
              <li class="mb-2 d-flex">
                <i class="bi bi-check me-2 mt-1"></i>
                <span>Show your personality and teaching style</span>
              </li>
              <li class="mb-2 d-flex">
                <i class="bi bi-check me-2 mt-1"></i>
                <span>Keep it between 1-3 minutes</span>
              </li>
            </ul>
          </div>
          <div class="col-md-6">
            <h6 class="fw-bold mb-3"><i class="bi bi-x-circle-fill text-danger me-2"></i>Don't:</h6>
            <ul class="list-unstyled">
              <li class="mb-2 d-flex">
                <i class="bi bi-x me-2 mt-1"></i>
                <span>Read from a script (be natural)</span>
              </li>
              <li class="mb-2 d-flex">
                <i class="bi bi-x me-2 mt-1"></i>
                <span>Include background noise or distractions</span>
              </li>
              <li class="mb-2 d-flex">
                <i class="bi bi-x me-2 mt-1"></i>
                <span>Upload low-quality or blurry videos</span>
              </li>
              <li class="mb-2 d-flex">
                <i class="bi bi-x me-2 mt-1"></i>
                <span>Exceed 100MB file size</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="mt-4">
          <h6 class="fw-bold"><i class="bi bi-film me-2"></i>Technical Requirements:</h6>
          <ul class="list-inline">
            <li class="list-inline-item badge bg-light text-dark me-2">MP4 format</li>
            <li class="list-inline-item badge bg-light text-dark me-2">Max 100MB</li>
            <li class="list-inline-item badge bg-light text-dark me-2">16:9 aspect ratio</li>
            <li class="list-inline-item badge bg-light text-dark">720p resolution or higher</li>
          </ul>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Got it!</button>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript for dynamic functionality -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Initialize with one skill entry
  addSkillEntry();

  // Add skill entry button
  document.getElementById('add-skill').addEventListener('click', function() {
    if (document.querySelectorAll('.skill-entry').length >= 3) {
      document.getElementById('skill-limit-alert').classList.remove('d-none');
      return;
    }
    addSkillEntry();
  });

  // File upload display
  document.getElementById('intro-video-upload').addEventListener('change', function(e) {
    const fileName = e.target.files[0]?.name || 'No file selected';
    document.getElementById('intro-video-filename').textContent = fileName;
  });
});

function addSkillEntry() {
  const template = document.getElementById('skill-template');
  const clone = template.content.cloneNode(true);
  document.getElementById('skills-container').appendChild(clone);
}

// Event delegation for remove buttons
document.addEventListener('click', function(e) {
  if (e.target.classList.contains('remove-skill')) {
    e.target.closest('.skill-entry').remove();
    document.getElementById('skill-limit-alert').classList.add('d-none');
  }
});
</script>