{#<div class="container py-4">#}
{#    <!-- Progress Bar -->#}
{#    <div class="mb-4">#}
{#        <div class="d-flex justify-content-between mb-2">#}
{#            <span class="text-muted">Step 3 of 7</span>#}
{#            <span class="text-muted">45% complete</span>#}
{#        </div>#}
{#        <div class="progress" style="height: 8px;">#}
{#            <div class="progress-bar bg-primary" role="progressbar" style="width: 45%;" aria-valuenow="45"#}
{#                 aria-valuemin="0" aria-valuemax="100"></div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <!-- Page Header -->#}
{#    <div class="text-center mb-5">#}
{#        <h2 class="fw-bold">Your Teaching Methods</h2>#}
{#        <p class="text-muted">Choose how you want to connect with students</p>#}
{#    </div>#}
{##}
{#    <!-- Important Information Card -->#}
{#    <div class="card border-0 shadow-sm mb-4">#}
{#        <div class="card-header bg-light border-bottom d-flex align-items-center">#}
{#            <i class="bi bi-people-fill text-primary me-2"></i>#}
{#            <h5 class="mb-0">Maximize Your Student Reach</h5>#}
{#        </div>#}
{#        <div class="card-body">#}
{#            <div class="alert alert-info bg-light border-0 mb-3">#}
{#                <div class="d-flex">#}
{#                    <i class="bi bi-graph-up-arrow text-warning me-3 mt-1"></i>#}
{#                    <div>#}
{#                        <p class="mb-1"><strong>Flexible tutors get 3x more student inquiries</strong></p>#}
{#                        <p class="mb-0">Your teaching method choice significantly impacts your visibility to potential students.</p>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{##}
{#            <div class="row">#}
{#                <div class="col-md-6">#}
{#                    <ul class="list-unstyled">#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>#}
{#                            <span><strong>Hybrid tutors</strong> appear in <strong>both online and local searches</strong></span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>#}
{#                            <span><strong>Online-only tutors</strong> can teach students <strong>worldwide</strong></span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>#}
{#                            <span><strong>In-person tutors</strong> can charge <strong>premium rates</strong> for local sessions</span>#}
{#                        </li>#}
{#                    </ul>#}
{#                </div>#}
{#                <div class="col-md-6">#}
{#                    <ul class="list-unstyled">#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>#}
{#                            <span>You can <strong>change your method later</strong> based on your experience</span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>#}
{#                            <span>Each method has different <strong>student matching algorithms</strong></span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>#}
{#                            <span>Consider your <strong>location, schedule, and teaching style</strong> when choosing</span>#}
{#                        </li>#}
{#                    </ul>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <div class="border rounded-3 shadow-sm bg-white">#}
{#        <div class="row">#}
{#            <div class="col-12">#}
{#                <!-- Card START -->#}
{#                <div class="card bg-transparent border-0">#}
{#                    <!-- Card header START -->#}
{#                    <div class="card-header bg-transparent border-bottom">#}
{#                        <h3 class="card-header-title text-primary mb-0">#}
{#                            <i class="bi bi-people-fill fs-3 mx-2"></i> / <i class="bi bi-geo-alt-fill me-2"></i>Teaching Method & Student Matching#}
{#                        </h3>#}
{#                    </div>#}
{#                    <!-- Card header END -->#}
{##}
{#                    <!-- Card body START -->#}
{#                    <div class="card-body">#}
{#                        <form id="providerLocationForm" class="needs-validation" method="POST" action="{% url 'provider:submit_teaching_method' %}"#}
{#                              enctype="multipart/form-data" novalidate>#}
{#                        {% csrf_token %}#}
{#                            <div class="card-body">#}
{#                                <!-- Method Selection -->#}
{#                                <div class="mb-4">#}
{#                                    <h5 class="fw-semibold mb-3">How Do You Want to Teach?</h5>#}
{#                                    <p class="text-muted mb-4">Your choice determines which students can find you and how you'll be matched</p>#}
{#                                    <div class="row g-4">#}
{#                                        <!-- Online Only Option -->#}
{#                                        <div class="col-md-4">#}
{#                                            <div class="method-card card h-100 " data-method="online">#}
{#                                                <div class="card-body text-center d-flex flex-column justify-content-between">#}
{#                                                    <div>#}
{#                                                        <div class="mb-3 d-flex justify-content-center align-items-center"#}
{#                                                             style="height: 60px;">#}
{#                                                            <i class="bi bi-laptop text-primary fs-1"></i>#}
{#                                                        </div>#}
{#                                                        <div class="d-flex justify-content-center align-items-center mb-2">#}
{#                                                            <input class="form-check-input me-2 hidden-radio " type="radio"#}
{#                                                                   name="meeting_method" id="method_online"#}
{#                                                                   value="online"#}
{#                                                                   {% if location_form.meeting_method.value == 'online' %}checked{% endif %}>#}
{#                                                            <h6 class="card-title fw-bold mb-0">Online Only</h6>#}
{#                                                        </div>#}
{#                                                        <p class="card-text small text-secondary mb-2">Teach students from anywhere</p>#}
{#                                                        <div class="student-reach-badge bg-info text-white rounded-pill px-2 py-1 small">#}
{#                                                            <i class="bi bi-globe me-1"></i> Global Reach#}
{#                                                        </div>#}
{#                                                        <div class="mt-2">#}
{#                                                            <small class="text-muted d-block">• Appear in worldwide searches</small>#}
{#                                                            <small class="text-muted d-block">• No location restrictions</small>#}
{#                                                            <small class="text-muted d-block">• Higher volume of potential students</small>#}
{#                                                        </div>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{##}
{#                                        <!-- Hybrid Option -->#}
{#                                        <div class="col-md-4">#}
{#                                            <div class="method-card card h-100 " data-method="hybrid">#}
{#                                                <div class="card-body text-center d-flex flex-column justify-content-between">#}
{#                                                    <div>#}
{#                                                        <div class="mb-3 d-flex justify-content-center align-items-center position-relative"#}
{#                                                             style="height: 60px;">#}
{#                                                            <span class="badge bg-success position-absolute top-0 start-1 translate-middle ">Recommended</span>#}
{#                                                            <i class="bi bi-laptop text-primary fs-3 me-1"></i>#}
{#                                                            <i class="bi bi-plus small mx-1"></i>#}
{#                                                            <i class="bi bi-people-fill text-success fs-3 ms-1"></i>#}
{#                                                        </div>#}
{#                                                        <div class="d-flex justify-content-center align-items-center mb-2">#}
{#                                                            <input class="form-check-input me-2 hidden-radio" type="radio"#}
{#                                                                   name="meeting_method" id="method_hybrid"#}
{#                                                                   value="hybrid"#}
{#                                                                   {% if location_form.meeting_method.value == 'hybrid' %}checked{% endif %}>#}
{#                                                            <h6 class="card-title fw-bold mb-0">Hybrid</h6>#}
{#                                                        </div>#}
{#                                                        <p class="card-text small text-secondary mb-2">Both online and in-person</p>#}
{#                                                        <div class="student-reach-badge bg-success text-white rounded-pill px-2 py-1 small">#}
{#                                                            <i class="bi bi-bullseye me-1"></i> Maximum Reach#}
{#                                                        </div>#}
{#                                                        <div class="mt-2">#}
{#                                                            <small class="text-muted d-block">• Appear in both local and online searches</small>#}
{#                                                            <small class="text-muted d-block">• 65% more matching opportunities</small>#}
{#                                                            <small class="text-muted d-block">• Flexibility to choose session types</small>#}
{#                                                        </div>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                        <!-- In-Person Only Option -->#}
{#                                        <div class="col-md-4">#}
{#                                            <div class="method-card card h-100 " data-method="in_person">#}
{#                                                <div class="card-body text-center d-flex flex-column justify-content-between">#}
{#                                                    <div>#}
{#                                                        <div class="mb-3 d-flex justify-content-center align-items-center"#}
{#                                                             style="height: 60px;">#}
{#                                                            <i class="bi bi-people-fill text-success fs-1"></i>#}
{#                                                        </div>#}
{#                                                        <div class="d-flex justify-content-center align-items-center mb-2">#}
{#                                                            <input class="form-check-input me-2 hidden-radio" type="radio"#}
{#                                                                   name="meeting_method" id="method_in_person"#}
{#                                                                   value="in_person"#}
{#                                                                   {% if location_form.meeting_method.value == 'in_person' %}checked{% endif %}>#}
{#                                                            <h6 class="card-title fw-bold mb-0">In-Person Only</h6>#}
{#                                                        </div>#}
{#                                                        <p class="card-text small text-secondary mb-2">Local face-to-face sessions</p>#}
{#                                                        <div class="student-reach-badge bg-warning text-dark rounded-pill px-2 py-1 small">#}
{#                                                            <i class="bi bi-geo-alt me-1"></i> Local Focus#}
{#                                                        </div>#}
{#                                                        <div class="mt-2">#}
{#                                                            <small class="text-muted d-block">• Appear in local area searches only</small>#}
{#                                                            <small class="text-muted d-block">• Potential for premium pricing</small>#}
{#                                                            <small class="text-muted d-block">• Stronger student connections</small>#}
{#                                                        </div>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                    <!-- Dynamic Method Hint -->#}
{#                                    <div class="alert alert-info mt-3 d-flex align-items-center" id="methodHint">#}
{#                                        <i class="bi bi-lightbulb-fill me-2 fs-5 text-warning"></i>#}
{#                                        <div>#}
{#                                            <strong>Hybrid Teaching - Maximize Your Opportunities</strong>#}
{#                                            <ul class="benefit-list mt-2 mb-0">#}
{#                                                <li><span class="highlight">Appear in both online and local searches</span> - double your visibility to potential students</li>#}
{#                                                <li><span class="highlight">Flexibility to accept both remote and local students</span> based on your schedule and preferences</li>#}
{#                                                <li><span class="highlight">Automatic fallback option</span> - if local students aren't available, you'll still get online opportunities</li>#}
{#                                                <li><span class="highlight">Higher acceptance rate</span> - students prefer tutors with multiple options</li>#}
{#                                            </ul>#}
{#                                            <p class="mt-2 mb-0">#}
{#                                                <small>Tutors who choose hybrid typically get their first student <span class="highlight">2x faster</span> and maintain <span class="highlight">40% more consistent bookings</span>.</small>#}
{#                                            </p>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{##}
{#                                <!-- In-Person Details (Conditional) -->#}
{#                                <div id="inPersonLocationSection">#}
{#                                    <hr class="my-4">#}
{#                                    <h5 class="fw-semibold text-success mb-3">#}
{#                                        <i class="bi bi-pin-map-fill me-2"></i>Set Your Local Teaching Area#}
{#                                    </h5>#}
{##}
{#                                    <!-- Location Explanation Card -->#}
{#                                    <div class="card bg-light border-0 mb-4">#}
{#                                        <div class="card-body">#}
{#                                            <h6 class="card-title fw-semibold mb-3">#}
{#                                                <i class="bi bi-geo me-2 text-primary"></i>#}
{#                                                How Location Affects Your Student Matching#}
{#                                            </h6>#}
{#                                            <div class="row">#}
{#                                                <div class="col-md-6">#}
{#                                                    <ul class="list-unstyled">#}
{#                                                        <li class="mb-3 d-flex">#}
{#                                                            <i class="bi bi-search text-primary me-2 mt-1"></i>#}
{#                                                            <div>#}
{#                                                                <strong>Precise Location = Better Matches</strong>#}
{#                                                                <small class="d-block text-muted">Students search for tutors in specific areas</small>#}
{#                                                            </div>#}
{#                                                        </li>#}
{#                                                        <li class="mb-3 d-flex">#}
{#                                                            <i class="bi bi-people text-primary me-2 mt-1"></i>#}
{#                                                            <div>#}
{#                                                                <strong>Travel Distance Matters</strong>#}
{#                                                                <small class="d-block text-muted">Students prefer tutors within 5-10km</small>#}
{#                                                            </div>#}
{#                                                        </li>#}
{#                                                    </ul>#}
{#                                                </div>#}
{#                                                <div class="col-md-6">#}
{#                                                    <ul class="list-unstyled">#}
{#                                                        <li class="mb-3 d-flex">#}
{#                                                            <i class="bi bi-clock-history text-primary me-2 mt-1"></i>#}
{#                                                            <div>#}
{#                                                                <strong>Faster Matching</strong>#}
{#                                                                <small class="d-block text-muted">Accurate location leads to quicker student connections</small>#}
{#                                                            </div>#}
{#                                                        </li>#}
{#                                                        <li class="mb-3 d-flex">#}
{#                                                            <i class="bi bi-star text-primary me-2 mt-1"></i>#}
{#                                                            <div>#}
{#                                                                <strong>Higher Visibility</strong>#}
{#                                                                <small class="d-block text-muted">You'll appear higher in local search results</small>#}
{#                                                            </div>#}
{#                                                        </li>#}
{#                                                    </ul>#}
{#                                                </div>#}
{#                                            </div>#}
{##}
{#                                            <hr class="my-3">#}
{##}
{#                                            <h6 class="card-title fw-semibold mb-2">Setting Your Location</h6>#}
{#                                            <div class="row">#}
{#                                                <div class="col-md-6 mb-3">#}
{#                                                    <div class="d-flex">#}
{#                                                        <i class="bi bi-geo-alt text-success me-2 mt-1"></i>#}
{#                                                        <div>#}
{#                                                            <strong>Search for your area</strong>#}
{#                                                            <small class="d-block text-muted">Use the search box to find your city or neighborhood</small>#}
{#                                                        </div>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                                <div class="col-md-6 mb-3">#}
{#                                                    <div class="d-flex">#}
{#                                                        <i class="bi bi-cursor text-primary me-2 mt-1"></i>#}
{#                                                        <div>#}
{#                                                            <strong>Click on the map</strong>#}
{#                                                            <small class="d-block text-muted">Pinpoint your exact location for optimal matching</small>#}
{#                                                        </div>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{##}
{#                                    <div class="row g-3">#}
{#                                        <!-- Map Location Picker -->#}
{#                                        <div class="col-12">#}
{#                                            <label class="form-label fw-semibold">Your Teaching Location <span#}
{#                                                    class="text-danger">*</span></label>#}
{#                                            <p class="text-muted small mb-3">This determines which local students can find you</p>#}
{##}
{#                                            <!-- Search Box -->#}
{#                                            <div class="input-group mb-3">#}
{#                                                <span class="input-group-text bg-transparent"><i class="bi bi-search"></i></span>#}
{#                                                <input type="text" id="locationSearch" class="form-control"#}
{#                                                       placeholder="Search for your city or area..." autocomplete="off">#}
{#                                                <button class="btn btn-outline-secondary" type="button" id="clearSearch">#}
{#                                                    <i class="bi bi-x"></i> Clear#}
{#                                                </button>#}
{#                                            </div>#}
{##}
{#                                            <!-- Map Container -->#}
{#                                            <div id="osmMap" class="map-container" style="height: 350px; width: 100%;"#}
{#                                                 class="border rounded mb-2"></div>#}
{##}
{##}
{#                                            <!-- Location Display -->#}
{#                                            <div class="d-flex justify-content-between align-items-center mt-2 p-3 bg-light rounded">#}
{#                                                <div>#}
{#                                                    <div class="d-flex align-items-center mb-1">#}
{#                                                        <i class="bi bi-geo me-1 text-muted"></i>#}
{#                                                        <small class="text-muted">Coordinates: <span#}
{#                                                                id="coordinatesDisplay">#}
{#                                                                            {% if location_form.latitude.value and location_form.longitude.value %}#}
{#                                                                                {{ location_form.latitude.value|floatformat:4 }},#}
{#                                                                                {{ location_form.longitude.value|floatformat:4 }}#}
{#                                                                            {% else %}#}
{#                                                                                Not set#}
{#                                                                            {% endif %}#}
{#                                                                        </span></small>#}
{#                                                    </div>#}
{#                                                    <div class="d-flex align-items-center">#}
{#                                                        <i class="bi bi-pin-map me-1 text-muted"></i>#}
{#                                                        <small class="text-muted">Service Area:#}
{#                                                            <span id="displayCity">#}
{#                                    {% if location_form.city.value %}#}
{#                                        {{ location_form.city.value }}#}
{#                                    {% else %}#}
{#                                        Not detected#}
{#                                    {% endif %}#}
{#                                </span>,#}
{#                                                            <span id="displayCountry">#}
{#                                    {% if location_form.country.value %}#}
{#                                        {{ location_form.country.value }}#}
{#                                    {% else %}#}
{#                                        Not detected#}
{#                                    {% endif %}#}
{#                                </span>#}
{#                                                        </small>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                                <button type="button" id="resetLocation"#}
{#                                                        class="btn btn-sm btn-outline-danger">#}
{#                                                    <i class="bi bi-x-circle me-1"></i> Reset Location#}
{#                                                </button>#}
{#                                            </div>#}
{##}
{#                                            <!-- Hidden Fields -->#}
{#                                            <input type="hidden" name="latitude" id="osmLat"#}
{#                                                   value="{{ location_form.latitude.value|default_if_none:'' }}">#}
{#                                            <input type="hidden" name="longitude" id="osmLng"#}
{#                                                   value="{{ location_form.longitude.value|default_if_none:'' }}">#}
{#                                            <input type="hidden" name="country" id="mapCountry"#}
{#                                                   value="{{ location_form.country.value|default_if_none:'' }}">#}
{#                                            <input type="hidden" name="city" id="mapCity"#}
{#                                                   value="{{ location_form.city.value|default_if_none:'' }}">#}
{#                                            <input type="hidden" name="offers_in_person" id="offersInPerson"#}
{#                                                   value="{% if location_form.offers_in_person.value %}true{% else %}false{% endif %}">#}
{#                                        </div>#}
{##}
{##}
{#                                        <!-- Meeting Radius -->#}
{#                                        <div class="col-md-6">#}
{#                                            <label class="form-label">Maximum Travel Distance#}
{#                                                <i class="bi bi-info-circle text-primary"#}
{#                                                   data-bs-toggle="tooltip"#}
{#                                                   title="We'll only match you with students within this radius">#}
{#                                                </i>#}
{#                                            </label>#}
{#                                            <div class="input-group border-radius-1">#}
{#                                                {{ location_form.meeting_radius }}#}
{#                                                <span class="input-group-text">km</span>#}
{#                                            </div>#}
{#                                            <div class="form-text">Smaller radius = higher quality matches, but fewer students</div>#}
{#                                            {% for error in location_form.meeting_radius.errors %}#}
{#                                                <div class="invalid-feedback d-block">{{ error }}</div>#}
{#                                            {% endfor %}#}
{#                                        </div>#}
{##}
{#                                        <!-- Meeting Preferences -->#}
{#                                        <div class="col-md-6">#}
{#                                            <label class="form-label">Preferred Meeting Locations</label>#}
{#                                            {% if location_form.meeting_location %}#}
{#                                                {{ location_form.meeting_location|default_if_none:'any' }}#}
{#                                                {% for error in location_form.meeting_location.errors %}#}
{#                                                    <div class="invalid-feedback d-block">{{ error }}</div>#}
{#                                                {% endfor %}#}
{#                                            {% endif %}#}
{#                                            <div class="form-text">Students appreciate knowing your location preferences</div>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{##}
{##}
{#                                <!-- Security Note -->#}
{#                                <div class="mt-4 p-3 security-badge rounded" id="privacyHint">#}
{#                                    <div class="d-flex">#}
{#                                        <i class="bi bi-shield-check text-success me-2 fs-5"></i>#}
{#                                        <div>#}
{#                                            <strong>Privacy Protection:</strong> Your exact location is stored securely and#}
{#                                            will only be shared with students after they've been accepted and you've#}
{#                                            confirmed the session. You maintain full control over your location privacy.#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{##}
{#                            </div>#}
{#                        </form>#}
{#                        <!-- Teaching Method Section End -->#}
{#                    </div>#}
{#                    <!-- Card body END -->#}
{#                </div>#}
{#                <!-- Card END -->#}
{#            </div>#}
{#            <!-- Privacy END -->#}
{#        </div>#}
{#    </div>#}
{##}
{#    <!-- Navigation Buttons -->#}
{#    <div class="d-flex justify-content-between mt-3">#}
{#        <button type="button" class="btn btn-outline-secondary btn-prev" id="btnPrev_method" data-action="prev" data-step="3">#}
{#            <i class="bi bi-arrow-left me-2"></i> Previous#}
{#        </button>#}
{##}
{#        <div>#}
{#            <button type="button" class="btn btn-outline-success btn-save me-2" id="btnSave_method" data-action="save" data-step="3">#}
{#                <i class="bi bi-save me-1"></i> Save#}
{#            </button>#}
{#            <button type="button" class="btn btn-primary btn-next" id="btnNext_method" data-action="next" data-step="3">#}
{#                Next <i class="bi bi-arrow-right ms-2"></i>#}
{#            </button>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
<div class="container py-4">
    <!-- Progress Bar -->
    <div class="mb-4">
        <div class="d-flex justify-content-between mb-2">
            <span class="text-muted">Step 3 of 7</span>
            <span class="text-muted">45% complete</span>
        </div>
        <div class="progress" style="height: 8px;">
            <div class="progress-bar bg-primary" role="progressbar" style="width: 45%;" aria-valuenow="45"
                 aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>

    <!-- Page Header -->
    <div class="text-center mb-5">
        <h2 class="fw-bold">Your Teaching Methods</h2>
        <p class="text-muted">Choose how you want to connect with students</p>
    </div>

    <!-- Important Information Card -->
    <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-light border-bottom d-flex align-items-center">
            <i class="bi bi-people-fill text-primary me-2"></i>
            <h5 class="mb-0">Maximize Your Student Reach</h5>
        </div>
        <div class="card-body">
            <div class="alert alert-info bg-light border-0 mb-3">
                <div class="d-flex">
                    <i class="bi bi-graph-up-arrow text-warning me-3 mt-1"></i>
                    <div>
                        <p class="mb-1"><strong>Flexible tutors get 3x more student inquiries</strong></p>
                        <p class="mb-0">Your teaching method choice significantly impacts your visibility to potential students.</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <ul class="list-unstyled">
                        <li class="mb-2 d-flex">
                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                            <span><strong>Hybrid tutors</strong> appear in <strong>both online and local searches</strong></span>
                        </li>
                        <li class="mb-2 d-flex">
                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                            <span><strong>Online-only tutors</strong> can teach students <strong>worldwide</strong></span>
                        </li>
                        <li class="mb-2 d-flex">
                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>
                            <span><strong>In-person tutors</strong> can charge <strong>premium rates</strong> for local sessions</span>
                        </li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul class="list-unstyled">
                        <li class="mb-2 d-flex">
                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>
                            <span>You can <strong>change your method later</strong> based on your experience</span>
                        </li>
                        <li class="mb-2 d-flex">
                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>
                            <span>Each method has different <strong>student matching algorithms</strong></span>
                        </li>
                        <li class="mb-2 d-flex">
                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>
                            <span>Consider your <strong>location, schedule, and teaching style</strong> when choosing</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="border rounded-3 shadow-sm bg-white">
        <div class="row">
            <div class="col-12">
                <!-- Card START -->
                <div class="card bg-transparent border-0">
                    <!-- Card header START -->
                    <div class="card-header bg-transparent border-bottom">
                        <h3 class="card-header-title text-primary mb-0">
                            <i class="bi bi-people-fill fs-3 mx-2"></i> / <i class="bi bi-geo-alt-fill me-2"></i>Teaching Method & Student Matching
                        </h3>
                    </div>
                    <!-- Card header END -->

                    <!-- Card body START -->
                    <div class="card-body">
                        <form id="providerLocationForm" class="needs-validation" method="POST" action="{% url 'provider:submit_teaching_method' %}"
                              enctype="multipart/form-data" novalidate>
                            {% csrf_token %}
                            <div class="card-body">
                                <!-- Method Selection -->
                                <div class="mb-4">
                                    <h5 class="fw-semibold mb-3">How Do You Want to Teach?</h5>
                                    <p class="text-muted mb-4">Your choice determines which students can find you and how you'll be matched</p>
                                    <div class="row g-4">
                                        <!-- Online Only Option -->
                                        <div class="col-md-4">
                                            <div class="method-card card h-100 " data-method="online">
                                                <div class="card-body text-center d-flex flex-column justify-content-between">
                                                    <div>
                                                        <div class="mb-3 d-flex justify-content-center align-items-center"
                                                             style="height: 60px;">
                                                            <i class="bi bi-laptop text-primary fs-1"></i>
                                                        </div>
                                                        <div class="d-flex justify-content-center align-items-center mb-2">
                                                            <input class="form-check-input me-2 hidden-radio " type="radio"
                                                                   name="meeting_method" id="method_online"
                                                                   value="online"
                                                                   {% if location_form.meeting_method.value == 'online' %}checked{% endif %}>
                                                            <h6 class="card-title fw-bold mb-0">Online Only</h6>
                                                        </div>
                                                        <p class="card-text small text-secondary mb-2">Teach students from anywhere</p>
                                                        <div class="student-reach-badge bg-info text-white rounded-pill px-2 py-1 small">
                                                            <i class="bi bi-globe me-1"></i> Global Reach
                                                        </div>
                                                        <div class="mt-2">
                                                            <small class="text-muted d-block">• Appear in worldwide searches</small>
                                                            <small class="text-muted d-block">• No location restrictions</small>
                                                            <small class="text-muted d-block">• Higher volume of potential students</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Hybrid Option -->
                                        <div class="col-md-4">
                                            <div class="method-card card h-100 " data-method="hybrid">
                                                <div class="card-body text-center d-flex flex-column justify-content-between">
                                                    <div>
                                                        <div class="mb-3 d-flex justify-content-center align-items-center position-relative"
                                                             style="height: 60px;">
                                                            <span class="badge bg-success position-absolute top-0 start-1 translate-middle ">Recommended</span>
                                                            <i class="bi bi-laptop text-primary fs-3 me-1"></i>
                                                            <i class="bi bi-plus small mx-1"></i>
                                                            <i class="bi bi-people-fill text-success fs-3 ms-1"></i>
                                                        </div>
                                                        <div class="d-flex justify-content-center align-items-center mb-2">
                                                            <input class="form-check-input me-2 hidden-radio" type="radio"
                                                                   name="meeting_method" id="method_hybrid"
                                                                   value="hybrid"
                                                                   {% if location_form.meeting_method.value == 'hybrid' %}checked{% endif %}>
                                                            <h6 class="card-title fw-bold mb-0">Hybrid</h6>
                                                        </div>
                                                        <p class="card-text small text-secondary mb-2">Both online and in-person</p>
                                                        <div class="student-reach-badge bg-success text-white rounded-pill px-2 py-1 small">
                                                            <i class="bi bi-bullseye me-1"></i> Maximum Reach
                                                        </div>
                                                        <div class="mt-2">
                                                            <small class="text-muted d-block">• Appear in both local and online searches</small>
                                                            <small class="text-muted d-block">• 65% more matching opportunities</small>
                                                            <small class="text-muted d-block">• Flexibility to choose session types</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- In-Person Only Option -->
                                        <div class="col-md-4">
                                            <div class="method-card card h-100 " data-method="in_person">
                                                <div class="card-body text-center d-flex flex-column justify-content-between">
                                                    <div>
                                                        <div class="mb-3 d-flex justify-content-center align-items-center"
                                                             style="height: 60px;">
                                                            <i class="bi bi-people-fill text-success fs-1"></i>
                                                        </div>
                                                        <div class="d-flex justify-content-center align-items-center mb-2">
                                                            <input class="form-check-input me-2 hidden-radio" type="radio"
                                                                   name="meeting_method" id="method_in_person"
                                                                   value="in_person"
                                                                   {% if location_form.meeting_method.value == 'in_person' %}checked{% endif %}>
                                                            <h6 class="card-title fw-bold mb-0">In-Person Only</h6>
                                                        </div>
                                                        <p class="card-text small text-secondary mb-2">Local face-to-face sessions</p>
                                                        <div class="student-reach-badge bg-warning text-dark rounded-pill px-2 py-1 small">
                                                            <i class="bi bi-geo-alt me-1"></i> Local Focus
                                                        </div>
                                                        <div class="mt-2">
                                                            <small class="text-muted d-block">• Appear in local area searches only</small>
                                                            <small class="text-muted d-block">• Potential for premium pricing</small>
                                                            <small class="text-muted d-block">• Stronger student connections</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Dynamic Method Hint -->
                                    <div class="alert alert-info mt-3 d-flex align-items-center" id="methodHint">
                                        <i class="bi bi-lightbulb-fill me-2 fs-5 text-warning"></i>
                                        <div>
                                            <strong>Hybrid Teaching - Maximize Your Opportunities</strong>
                                            <ul class="benefit-list mt-2 mb-0">
                                                <li><span class="highlight">Appear in both online and local searches</span> - double your visibility to potential students</li>
                                                <li><span class="highlight">Flexibility to accept both remote and local students</span> based on your schedule and preferences</li>
                                                <li><span class="highlight">Automatic fallback option</span> - if local students aren't available, you'll still get online opportunities</li>
                                                <li><span class="highlight">Higher acceptance rate</span> - students prefer tutors with multiple options</li>
                                            </ul>
                                            <p class="mt-2 mb-0">
                                                <small>Tutors who choose hybrid typically get their first student <span class="highlight">2x faster</span> and maintain <span class="highlight">40% more consistent bookings</span>.</small>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <!-- In-Person Details (Conditional) -->
                                <div id="inPersonLocationSection">
                                    <hr class="my-4">
                                    <h5 class="fw-semibold text-success mb-3">
                                        <i class="bi bi-pin-map-fill me-2"></i>Set Your Local Teaching Area
                                    </h5>

                                    <!-- Location Explanation Card -->
                                    <div class="card bg-light border-0 mb-4">
                                        <div class="card-body">
                                            <h6 class="card-title fw-semibold mb-3">
                                                <i class="bi bi-geo me-2 text-primary"></i>
                                                How Location Affects Your Student Matching
                                            </h6>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <ul class="list-unstyled">
                                                        <li class="mb-3 d-flex">
                                                            <i class="bi bi-search text-primary me-2 mt-1"></i>
                                                            <div>
                                                                <strong>Precise Location = Better Matches</strong>
                                                                <small class="d-block text-muted">Students search for tutors in specific areas</small>
                                                            </div>
                                                        </li>
                                                        <li class="mb-3 d-flex">
                                                            <i class="bi bi-people text-primary me-2 mt-1"></i>
                                                            <div>
                                                                <strong>Travel Distance Matters</strong>
                                                                <small class="d-block text-muted">Students prefer tutors within 5-10km</small>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-6">
                                                    <ul class="list-unstyled">
                                                        <li class="mb-3 d-flex">
                                                            <i class="bi bi-clock-history text-primary me-2 mt-1"></i>
                                                            <div>
                                                                <strong>Faster Matching</strong>
                                                                <small class="d-block text-muted">Accurate location leads to quicker student connections</small>
                                                            </div>
                                                        </li>
                                                        <li class="mb-3 d-flex">
                                                            <i class="bi bi-star text-primary me-2 mt-1"></i>
                                                            <div>
                                                                <strong>Higher Visibility</strong>
                                                                <small class="d-block text-muted">You'll appear higher in local search results</small>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <hr class="my-3">

                                            <h6 class="card-title fw-semibold mb-2">Setting Your Location</h6>
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex">
                                                        <i class="bi bi-geo-alt text-success me-2 mt-1"></i>
                                                        <div>
                                                            <strong>Search for your area</strong>
                                                            <small class="d-block text-muted">Use the search box to find your city or neighborhood</small>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex">
                                                        <i class="bi bi-cursor text-primary me-2 mt-1"></i>
                                                        <div>
                                                            <strong>Click on the map</strong>
                                                            <small class="d-block text-muted">Pinpoint your exact location for optimal matching</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row g-3">
                                        <!-- Map Location Picker -->
                                        <div class="col-12">
                                            <label class="form-label fw-semibold">Your Teaching Location <span
                                                    class="text-danger">*</span></label>
                                            <p class="text-muted small mb-3">This determines which local students can find you</p>

                                            <!-- Search Box -->
                                            {#                                            <div class="input-group mb-3">#}
                                            {#                                                <span class="input-group-text bg-transparent"><i class="bi bi-search"></i></span>#}
                                            {#                                                <input type="text" id="locationSearch" class="form-control"#}
                                            {#                                                       placeholder="Search for your city or area..." autocomplete="off">#}
                                            {#                                                <button class="btn btn-outline-secondary" type="button" id="clearSearch">#}
                                            {#                                                    <i class="bi bi-x"></i> Clear#}
                                            {#                                                </button>#}
                                            {#                                            </div>#}

                                            <!-- Map Container -->
                                            <div id="osmMap" class="map-container" style="height: 350px; width: 100%;"
                                                 class="border rounded mb-2"></div>


                                            <!-- Location Display -->
                                            <div class="d-flex justify-content-between align-items-center mt-2 p-3 bg-light rounded">
                                                <div>
                                                    <div class="d-flex align-items-center mb-1">
                                                        <i class="bi bi-geo me-1 text-muted"></i>
                                                        <small class="text-muted">Coordinates: <span
                                                                id="coordinatesDisplay">
                                                                            {% if location_form.latitude.value and location_form.longitude.value %}
                                                                                {{ location_form.latitude.value|floatformat:4 }},
                                                                                {{ location_form.longitude.value|floatformat:4 }}
                                                                            {% else %}
                                                                                Not set
                                                                            {% endif %}
                                                                        </span></small>
                                                    </div>
                                                    <div class="d-flex align-items-center">
                                                        <i class="bi bi-pin-map me-1 text-muted"></i>
                                                        <small class="text-muted">Service Area:
                                                            <span id="displayCity">
                                    {% if location_form.city.value %}
                                        {{ location_form.city.value }}
                                    {% else %}
                                        Not detected
                                    {% endif %}
                                </span>,
                                                            <span id="displayCountry">
                                    {% if location_form.country.value %}
                                        {{ location_form.country.value }}
                                    {% else %}
                                        Not detected
                                    {% endif %}
                                </span>
                                                        </small>
                                                    </div>
                                                </div>
                                                <button type="button" id="resetLocation"
                                                        class="btn btn-sm btn-outline-danger">
                                                    <i class="bi bi-x-circle me-1"></i> Reset Location
                                                </button>
                                            </div>

                                            <!-- Hidden Fields -->
                                            <input type="hidden" name="latitude" id="osmLat" value="35.6844">
                                            <input type="hidden" name="longitude" id="osmLng" value="51.3866">
                                            <input type="hidden" name="country" id="mapCountry"
                                                   value="{{ location_form.country.value|default_if_none:'' }}">
                                            <input type="hidden" name="city" id="mapCity"
                                                   value="{{ location_form.city.value|default_if_none:'' }}">
                                            <input type="hidden" name="offers_in_person" id="offersInPerson"
                                                   value="{% if location_form.offers_in_person.value %}true{% else %}false{% endif %}">
                                        </div>


                                        <!-- Meeting Radius -->
                                        <div class="col-md-6">
                                            <label class="form-label">Maximum Travel Distance
                                                <i class="bi bi-info-circle text-primary"
                                                   data-bs-toggle="tooltip"
                                                   title="We'll only match you with students within this radius">
                                                </i>
                                            </label>
                                            <div class="input-group border-radius-1">
                                                {{ location_form.meeting_radius }}
                                                <span class="input-group-text">km</span>
                                            </div>
                                            <div class="form-text">Smaller radius = higher quality matches, but fewer students</div>
                                            {% for error in location_form.meeting_radius.errors %}
                                                <div class="invalid-feedback d-block">{{ error }}</div>
                                            {% endfor %}
                                        </div>

                                        <!-- Meeting Preferences -->
                                        <div class="col-md-6">
                                            <label class="form-label">Preferred Meeting Locations</label>
                                            {% if location_form.meeting_location %}
                                                {{ location_form.meeting_location|default_if_none:'any' }}
                                                {% for error in location_form.meeting_location.errors %}
                                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                                {% endfor %}
                                            {% endif %}
                                            <div class="form-text">Students appreciate knowing your location preferences</div>
                                        </div>
                                    </div>
                                </div>


                                <!-- Security Note -->
                                <div class="mt-4 p-3 security-badge rounded" id="privacyHint">
                                    <div class="d-flex">
                                        <i class="bi bi-shield-check text-success me-2 fs-5"></i>
                                        <div>
                                            <strong>Privacy Protection:</strong> Your exact location is stored securely and
                                            will only be shared with students after they've been accepted and you've
                                            confirmed the session. You maintain full control over your location privacy.
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </form>
                        <!-- Teaching Method Section End -->
                    </div>
                    <!-- Card body END -->
                </div>
                <!-- Card END -->
            </div>
            <!-- Privacy END -->
        </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="d-flex justify-content-between mt-3">
        <button type="button" class="btn btn-outline-secondary btn-prev" id="btnPrev_method" data-action="prev" data-step="3">
            <i class="bi bi-arrow-left me-2"></i> Previous
        </button>

        <div>
            <button type="button" class="btn btn-outline-success btn-save me-2" id="btnSave_method" data-action="save" data-step="3">
                <i class="bi bi-save me-1"></i> Save
            </button>
            <button type="button" class="btn btn-primary btn-next" id="btnNext_method" data-action="next" data-step="3">
                Next <i class="bi bi-arrow-right ms-2"></i>
            </button>
        </div>
    </div>
</div>

{# ========================================================================== #}

{#<div class="container py-4">#}
{#    <!-- Progress Bar -->#}
{#    <div class="mb-4">#}
{#        <div class="d-flex justify-content-between mb-2">#}
{#            <span class="text-muted">Step 3 of 7</span>#}
{#            <span class="text-muted">45% complete</span>#}
{#        </div>#}
{#        <div class="progress" style="height: 8px;">#}
{#            <div class="progress-bar bg-primary" role="progressbar" style="width: 45%;" aria-valuenow="45"#}
{#                 aria-valuemin="0" aria-valuemax="100"></div>#}
{#        </div>#}
{#    </div>#}
{##}
{#    <!-- Page Header -->#}
{#    <div class="text-center mb-5">#}
{#        <h2 class="fw-bold">Your Teaching Method</h2>#}
{#        <p class="text-muted">Showcase your preference and teaching method</p>#}
{#    </div>#}
{##}
{#    <!-- Important Information Card -->#}
{#    <div class="card border-0 shadow-sm mb-4">#}
{#        <div class="card-header bg-light border-bottom d-flex align-items-center">#}
{#            <i class="bi bi-info-circle-fill text-primary me-2"></i>#}
{#            <h5 class="mb-0">Important Guidelines</h5>#}
{#        </div>#}
{#        <div class="card-body">#}
{#            <div class="alert alert-info bg-light border-0 mb-3">#}
{#                <div class="d-flex">#}
{#                    <i class="bi bi-lightbulb-fill text-warning me-3 mt-1"></i>#}
{#                    <div>#}
{#                        <p class="mb-1"><strong>Complete profiles get 3x more student inquiries</strong></p>#}
{#                        <p class="mb-0">Following these guidelines will help us approve your application faster.</p>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{##}
{#            <div class="row">#}
{#                <div class="col-md-6">#}
{#                    <ul class="list-unstyled">#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>#}
{#                            <span>Select the highest level you're <strong>fully skilled</strong> in and can <strong>confidently teach</strong></span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>#}
{#                            <span>Our reviewers will verify and approve your final skill levels</span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-check-circle-fill text-success me-2 mt-1"></i>#}
{#                            <span>Videos and certificates are <strong>optional but highly recommended</strong></span>#}
{#                        </li>#}
{#                    </ul>#}
{#                </div>#}
{#                <div class="col-md-6">#}
{#                    <ul class="list-unstyled">#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>#}
{#                            <span>Standard users can add <strong>3 skills</strong>, VIP users get <strong>5 skills</strong></span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>#}
{#                            <span>Recommended video length: <strong>1-3 minutes</strong></span>#}
{#                        </li>#}
{#                        <li class="mb-2 d-flex">#}
{#                            <i class="bi bi-info-circle-fill text-primary me-2 mt-1"></i>#}
{#                            <span>Thumbnails should represent your teaching content</span>#}
{#                        </li>#}
{#                    </ul>#}
{#                </div>#}
{#            </div>#}
{##}
{#        </div>#}
{#    </div>#}
{##}
{#<div class="border rounded-3 shadow-sm bg-white">#}
{#    <div class="row">#}
{#        <div class="col-12">#}
{#            <!-- Card START -->#}
{#            <div class="card bg-transparent border-0">#}
{#                <!-- Card header START -->#}
{#                <div class="card-header bg-transparent border-bottom">#}
{#                    <h3 class="card-header-title text-primary mb-0">#}
{#                        <i class="bi bi-people-fill fs-3 mx-2"></i> / <i class="bi bi-geo-alt-fill me-2"></i>Meeting Preferences & Location Settings#}
{#                    </h3>#}
{#                </div>#}
{#                <!-- Card header END -->#}
{##}
{#                <!-- Card body START -->#}
{#                <div class="card-body">#}
{##}
{#                    <!-- Profile START -->#}
{#                    <form id="clientLocationForm" class="needs-validation" method="POST"#}
{#                          enctype="multipart/form-data" novalidate>#}
{#                    {% csrf_token %}#}
{#                        <div class="card-body">#}
{#                            <!-- Method Selection -->#}
{#                            <div class="mb-4">#}
{#                                <h5 class="fw-semibold mb-3">Select Your Preferred Meeting Method</h5>#}
{#                                <div class="row g-4">#}
{#                                    <!-- Online Only Option -->#}
{#                                    <div class="col-md-4">#}
{#                                        <div class="method-card card h-100 " data-method="online">#}
{#                                            <div class="card-body text-center d-flex flex-column justify-content-between">#}
{#                                                <div>#}
{#                                                    <div class="mb-3 d-flex justify-content-center align-items-center"#}
{#                                                         style="height: 60px;">#}
{#                                                        <i class="bi bi-laptop text-primary fs-1"></i>#}
{#                                                    </div>#}
{#                                                    <div class="d-flex justify-content-center align-items-center mb-2">#}
{#                                                        <input class="form-check-input me-2 hidden-radio " type="radio"#}
{#                                                               name="meeting_method" id="method_online"#}
{#                                                               value="online"#}
{#                                                               {% if location_form.meeting_method.value == 'online' %}checked{% endif %}>#}
{#                                                        <h6 class="card-title fw-bold mb-0">Online Only</h6>#}
{#                                                    </div>#}
{#                                                    <p class="card-text small text-secondary mb-0">All sessions#}
{#                                                        conducted remotely</p>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{##}
{#                                    <!-- Hybrid Option -->#}
{#                                    <div class="col-md-4">#}
{#                                        <div class="method-card card h-100 " data-method="hybrid">#}
{#                                            <div class="card-body text-center d-flex flex-column justify-content-between">#}
{#                                                <div>#}
{#                                                    <div class="mb-3 d-flex justify-content-center align-items-center position-relative"#}
{#                                                         style="height: 60px;">#}
{#                                                        <span class="badge bg-success position-absolute top-0 start-1 translate-middle ">Recommended</span>#}
{#                                                        <i class="bi bi-laptop text-primary fs-3 me-1"></i>#}
{#                                                        <i class="bi bi-plus small mx-1"></i>#}
{#                                                        <i class="bi bi-people-fill text-success fs-3 ms-1"></i>#}
{#                                                    </div>#}
{#                                                    <div class="d-flex justify-content-center align-items-center mb-2">#}
{#                                                        <input class="form-check-input me-2 hidden-radio" type="radio"#}
{#                                                               name="meeting_method" id="method_hybrid"#}
{#                                                               value="hybrid"#}
{#                                                               {% if location_form.meeting_method.value == 'hybrid' %}checked{% endif %}>#}
{#                                                        <h6 class="card-title fw-bold mb-0">Hybrid</h6>#}
{#                                                    </div>#}
{#                                                    <p class="card-text small text-secondary mb-0">Both online and#}
{#                                                        in-person options</p>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                    <!-- In-Person Only Option -->#}
{#                                    <div class="col-md-4">#}
{#                                        <div class="method-card card h-100 " data-method="in_person">#}
{#                                            <div class="card-body text-center d-flex flex-column justify-content-between">#}
{#                                                <div>#}
{#                                                    <div class="mb-3 d-flex justify-content-center align-items-center"#}
{#                                                         style="height: 60px;">#}
{#                                                        <i class="bi bi-people-fill text-success fs-1"></i>#}
{#                                                    </div>#}
{#                                                    <div class="d-flex justify-content-center align-items-center mb-2">#}
{#                                                        <input class="form-check-input me-2 hidden-radio" type="radio"#}
{#                                                               name="meeting_method" id="method_in_person"#}
{#                                                               value="in_person"#}
{#                                                               {% if location_form.meeting_method.value == 'in_person' %}checked{% endif %}>#}
{#                                                        <h6 class="card-title fw-bold mb-0">In-Person Only</h6>#}
{#                                                    </div>#}
{#                                                    <p class="card-text small text-secondary mb-0">Only face-to-face#}
{#                                                        sessions</p>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{#                                <!-- Dynamic Method Hint -->#}
{#                                <div class="alert alert-info mt-3 d-flex align-items-center" id="methodHint">#}
{#                                    <i class="bi bi-info-circle-fill me-2 fs-5 info-icon"></i>#}
{#                                    <div>#}
{#                                        <strong>Hybrid Approach - Recommended</strong>#}
{#                                        <ul class="benefit-list mt-2 mb-0">#}
{#                                            <li><span class="highlight">Best matching opportunity</span> - we'll show#}
{#                                                you online options if in-person isn't available#}
{#                                            </li>#}
{#                                            <li>Flexibility to choose between online and in-person sessions</li>#}
{#                                            <li>Wider selection of tutors/students</li>#}
{#                                            <li>Fallback to online when in-person isn't convenient</li>#}
{#                                        </ul>#}
{#                                        <p class="mt-2 mb-0">#}
{#                                            <small>Choosing hybrid increases your chances of finding the right match by#}
{#                                                <span class="highlight">65%</span> compared to in-person only.#}
{#                                            </small>#}
{#                                        </p>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{##}
{#                            <!-- In-Person Details (Conditional) -->#}
{#                            <div id="inPersonLocationSection">#}
{#                                <hr class="my-4">#}
{#                                <h5 class="fw-semibold text-success mb-3">#}
{#                                    <i class="bi bi-pin-map-fill me-2"></i>In-Person Meeting Details#}
{#                                </h5>#}
{##}
{#                                <!-- Location Explanation Card -->#}
{#                                <div class="card bg-light border-0 mb-4">#}
{#                                    <div class="card-body">#}
{#                                        <h6 class="card-title fw-semibold mb-3">#}
{#                                            <i class="bi bi-geo me-2 text-primary"></i>#}
{#                                            How to Set Your Location#}
{#                                        </h6>#}
{#                                        <ul class="list-unstyled mb-0">#}
{#                                            <li class="mb-2 d-flex">#}
{#                                                <i class="bi bi-search text-primary me-2 "></i>#}
{#                                                <div><strong>Search</strong> for your city or area in the search box, or#}
{#                                                </div>#}
{#                                            </li>#}
{#                                            <li class="mb-2 d-flex">#}
{#                                                <i class="bi bi-cursor text-primary me-2 "></i>#}
{#                                                <div><strong>Click directly on the map</strong> to set your location#}
{#                                                </div>#}
{#                                            </li>#}
{#                                            <li class="mb-2 d-flex">#}
{#                                                <i class="bi bi-shield-check text-primary me-2 "></i>#}
{#                                                <div>Your exact location is <strong>securely stored</strong> and only#}
{#                                                    shared with tutors after they've been accepted and you've confirmed#}
{#                                                    the session#}
{#                                                </div>#}
{#                                            </li>#}
{#                                        </ul>#}
{##}
{#                                        <hr class="my-3">#}
{##}
{#                                        <h6 class="card-title fw-semibold mb-2">Location Precision Options</h6>#}
{#                                        <div class="row">#}
{#                                            <div class="col-md-6 mb-2">#}
{#                                                <div class="d-flex">#}
{#                                                    <i class="bi bi-geo-alt text-success me-2 mt-1"></i>#}
{#                                                    <div>#}
{#                                                        <strong>Approximate Location</strong> (city/area level):#}
{#                                                        <small class="d-block text-muted">Select if you prefer meeting#}
{#                                                            at public places or educational institutions in your area#}
{#                                                        </small>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                            <div class="col-md-6 mb-2">#}
{#                                                <div class="d-flex">#}
{#                                                    <i class="bi bi-geo-fill text-primary me-2 mt-1"></i>#}
{#                                                    <div>#}
{#                                                        <strong>Exact Location</strong> (zoom in on map):#}
{#                                                        <small class="d-block text-muted">Select if you want sessions at#}
{#                                                            your home or specific private location#}
{#                                                        </small>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{##}
{#                                <div class="row g-3">#}
{#                                    <!-- Map Location Picker -->#}
{#                                    <div class="col-12">#}
{#                                        <label class="form-label fw-semibold">Your Meeting Location <span#}
{#                                                class="text-danger">*</span></label>#}
{##}
{#                                        <!-- Search Box -->#}
{#                                                                                                <div class="input-group mb-3">#}
{#                                                                                                    <span class="input-group-text bg-transparent"><i class="bi bi-search"></i></span>#}
{#                                                                                                    <input type="text" id="locationSearch" class="form-control"#}
{#                                                                                                           placeholder="Search for your city or area..." autocomplete="off">#}
{#                                                                                                    <button class="btn btn-outline-secondary" type="button" id="clearSearch">#}
{#                                                                                                        <i class="bi bi-x"></i> Clear#}
{#                                                                                                    </button>#}
{#                                                                                                </div>#}
{##}
{#                                        <!-- Map Container -->#}
{#                                        <div id="osmMap" class="map-container" style="height: 350px; width: 100%;"#}
{#                                             class="border rounded mb-2"></div>#}
{##}
{#                                        <!-- Location Display -->#}
{#                                        <div class="d-flex justify-content-between align-items-center mt-2 p-3 bg-light rounded">#}
{#                                            <div>#}
{#                                                <div class="d-flex align-items-center mb-1">#}
{#                                                    <i class="bi bi-geo me-1 text-muted"></i>#}
{#                                                    <small class="text-muted">Coordinates: <span#}
{#                                                            id="coordinatesDisplay">#}
{#                                                                        {% if location_form.latitude.value and location_form.longitude.value %}#}
{#                                                                            {{ location_form.latitude.value|floatformat:4 }},#}
{#                                                                            {{ location_form.longitude.value|floatformat:4 }}#}
{#                                                                        {% else %}#}
{#                                                                            Not set#}
{#                                                                        {% endif %}#}
{#                                                                    </span></small>#}
{#                                                </div>#}
{#                                                <div class="d-flex align-items-center">#}
{#                                                    <i class="bi bi-pin-map me-1 text-muted"></i>#}
{#                                                    <small class="text-muted">Service Area:#}
{#                                                        <span id="displayCity">#}
{#                                {% if location_form.city.value %}#}
{#                                    {{ location_form.city.value }}#}
{#                                {% else %}#}
{#                                    Not detected#}
{#                                {% endif %}#}
{#                            </span>,#}
{#                                                        <span id="displayCountry">#}
{#                                {% if location_form.country.value %}#}
{#                                    {{ location_form.country.value }}#}
{#                                {% else %}#}
{#                                    Not detected#}
{#                                {% endif %}#}
{#                            </span>#}
{#                                                    </small>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                            <button type="button" id="resetLocation"#}
{#                                                    class="btn btn-sm btn-outline-danger">#}
{#                                                <i class="bi bi-x-circle me-1"></i> Reset Location#}
{#                                            </button>#}
{#                                        </div>#}
{##}
{#                                        <!-- Hidden Fields -->#}
{#                                        <input type="hidden" name="latitude" id="osmLat"#}
{#                                               value="{{ location_form.latitude.value|default_if_none:'' }}">#}
{#                                        <input type="hidden" name="longitude" id="osmLng"#}
{#                                               value="{{ location_form.longitude.value|default_if_none:'' }}">#}
{#                                        <input type="hidden" name="country" id="mapCountry"#}
{#                                               value="{{ location_form.country.value|default_if_none:'' }}">#}
{#                                        <input type="hidden" name="city" id="mapCity"#}
{#                                               value="{{ location_form.city.value|default_if_none:'' }}">#}
{#                                        <input type="hidden" name="offers_in_person" id="offersInPerson"#}
{#                                               value="{% if location_form.offers_in_person.value %}true{% else %}false{% endif %}">#}
{#                                    </div>#}
{##}
{##}
{#                                    <!-- Meeting Radius -->#}
{#                                    <div class="col-md-6">#}
{#                                        <label class="form-label">Maximum Travel Distance#}
{#                                            <i class="bi bi-info-circle text-primary"#}
{#                                               data-bs-toggle="tooltip"#}
{#                                               title="We'll only match you with students within this radius">#}
{#                                            </i>#}
{#                                        </label>#}
{#                                        <div class="input-group border-radius-1">#}
{#                                            {{ location_form.meeting_radius }}#}
{#                                            <span class="input-group-text">km</span>#}
{#                                        </div>#}
{#                                        {% for error in location_form.meeting_radius.errors %}#}
{#                                            <div class="invalid-feedback d-block">{{ error }}</div>#}
{#                                        {% endfor %}#}
{#                                    </div>#}
{##}
{#                                    <!-- Meeting Preferences -->#}
{#                                    <div class="col-md-6">#}
{#                                        <label class="form-label">Session Location Preference</label>#}
{#                                        {% if location_form.meeting_location %}#}
{#                                            {{ location_form.meeting_location|default_if_none:'any' }}#}
{#                                            {% for error in location_form.meeting_location.errors %}#}
{#                                                <div class="invalid-feedback d-block">{{ error }}</div>#}
{#                                            {% endfor %}#}
{#                                        {% endif %}#}
{#                                    </div>#}
{##}
{##}
{#                                    <!-- Student-specific fields (simulated) -->#}
{#                                    {% if user.profile.user_type == 'student' %}#}
{#                                        <!-- Meeting Aim -->#}
{#                                        <div class="col-md-6">#}
{#                                            <label class="form-label">Meeting Aim</label>#}
{#                                            {% if location_form.inp_aim %}#}
{#                                                {{ location_form.inp_aim }}#}
{#                                                {% for error in location_form.inp_aim.errors %}#}
{#                                                    <div class="invalid-feedback d-block">{{ error }}</div>#}
{#                                                {% endfor %}#}
{#                                            {% endif %}#}
{#                                        </div>#}
{#                                        <!-- Meeting start DATE -->#}
{#                                        <div class="col-md-6">#}
{#                                            <label class="form-label">Preferred start date</label>#}
{#                                            {% if location_form.inp_start %}#}
{#                                                {{ location_form.inp_start }}#}
{#                                                {% for error in location_form.inp_start.errors %}#}
{#                                                    <div class="invalid-feedback d-block">{{ error }}</div>#}
{#                                                {% endfor %}#}
{#                                            {% endif %}#}
{#                                        </div>#}
{#                                    {% endif %}#}
{#                                </div>#}
{#                            </div>#}
{##}
{##}
{#                            <!-- Security Note -->#}
{#                            <div class="mt-4 p-3 security-badge rounded" id="privacyHint">#}
{#                                <div class="d-flex">#}
{#                                    <i class="bi bi-shield-check text-success me-2 fs-5"></i>#}
{#                                    <div>#}
{#                                        <strong>Privacy Protection:</strong> Your exact location is stored securely and#}
{#                                        will only be shared with a tutor after they've been accepted and you've#}
{#                                        confirmed the session. You maintain full control over your location privacy.#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{##}
{#                        </div>#}
{#                    </form>#}
{#                    <!-- Teaching Method Section End -->#}
{#                </div>#}
{#                <!-- Card body END -->#}
{#            </div>#}
{#            <!-- Card END -->#}
{#        </div>#}
{#        <!-- Privacy END -->#}
{#    </div>#}
{#</div>#}
{##}
{#    <!-- Navigation Buttons -->#}
{#    <div class="d-flex justify-content-between mt-3">#}
{#        <button type="button" class="btn btn-outline-secondary btn-prev" id="btnPrev_step2" data-action="prev" data-step="2">#}
{#            <i class="bi bi-arrow-left me-2"></i> Previous#}
{#        </button>#}
{##}
{#        <div>#}
{#            <button type="button" class="btn btn-outline-success btn-save me-2" id="btnSave_step2" data-action="save" data-step="2">#}
{#                <i class="bi bi-save me-1"></i> Save#}
{#            </button>#}
{#            <button type="button" class="btn btn-primary btn-next" id="btnNext_step2" data-action="next" data-step="2">#}
{#                Next <i class="bi bi-arrow-right ms-2"></i>#}
{#            </button>#}
{#        </div>#}
{#    </div>#}
{#</div>#}