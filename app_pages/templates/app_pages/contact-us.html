{% extends 'app_pages/base.html' %}
{% load static %}
{% load CF_filters %}
{% block head_title %}Contact Us{% endblock %}
{% block og_meta_tags %}
    <!-- Essential Open Graph Tags for Lingocept -->
    <meta property="og:title" content="{{ CFChar.site_name }} - {{ CFText.og_site_title }}" />
    <meta property="og:description" content="{{ CFChar.site_name }} {{ CFText.og_site_description }}" />
    <meta property="og:image" content="https://{{ request.get_host }}{% static 'assets/images/element/contact.png' %}?v={% now 'U' %}" />
    <meta property="og:url" content="{{ CFURL.site_address }}" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="{{ CFChar.site_name }}" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ CFChar.site_name }} - {{ CFText.og_site_title }}">
    <meta name="twitter:description" content="{{ CFChar.site_name }} {{ CFText.og_site_description }}">
    <meta name="twitter:image" content="https://{{ request.get_host }}{% static 'assets/images/element/contact.png' %}?v={% now 'U' %}" />
{% endblock %}
{% block head_style_plugins %}
    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/font-awesome/css/all.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/vendor/tiny-slider/tiny-slider.css' %}">
{% endblock %}
{% block head_script %}
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
{% endblock %}
{% block body_content %}
    <!-- **************** MAIN CONTENT START **************** -->
    <main>

        <!-- =======================
        Page Banner START -->
        <section class="pt-5 pb-0"
                 style="background-image:url({% static 'assets/images/element/map.svg' %}); background-position: center left; background-size: cover;">

            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-xl-6 text-center mx-auto">
                        <h1 class="mb-4">We're here to help!</h1>
                        <h6 class="mb-4 text-secondary">We'd love to hear from you! Whether you're a learner, educator,
                            or simply
                            curious about our approach, don't hesitate to reach out.</h6>
                    </div>
                </div>

                <!-- Contact info box - Centered using flex -->
                <div class="row justify-content-center g-4 g-md-5 mt-0 mt-lg-3">
                    <!-- Box item - will automatically center with siblings -->
                    <div class="col-lg-4 col-md-6 d-flex">
                        <div class="card card-body   shadow-lg py-5 text-center w-100">
                            <h5 class="text-black mb-3">Customer Support</h5>
                            <ul class="list-inline mb-0">
                                {#                    <li class="list-item mb-3">#}
                                {#                        <a href="#" class="text-white"><i class="fas fa-fw fa-map-marker-alt me-2 mt-1"></i>{{ CFChar.address1 }}</a>#}
                                {#                    </li>#}
                                <li class="list-item mb-3">
                                    <a href="tel:{{ CFChar.phone }}" class="text-dark"><i
                                            class="fas fa-fw fa-phone-alt me-2"></i>{{ CFChar.phone }}</a>
                                </li>
                                <li class="list-item mb-0">
                                    <a href="mailto:{{ CFEmail.support }}" class="text-dark"><i
                                            class="far fa-fw fa-envelope me-2"></i>{{ CFEmail.support }}</a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Box item - will automatically center with siblings -->
                    <div class="col-lg-4 col-md-6 d-flex">
                        <div class="card card-body shadow-lg py-5 text-center border-0 w-100">
                            <h5 class="mb-3">Contact Address</h5>
                            <ul class="list-inline mb-0">
                                {#                    <li class="list-item mb-3 h6 fw-light">#}
                                {#                        <a href="#"><i class="fas fa-fw fa-map-marker-alt me-2 mt-1"></i>{{ CFChar.address2 }}</a>#}
                                {#                    </li>#}
                                <li class="list-item mb-3 h6 fw-light">
                                    <a href="tel:{{ CFChar.mobile }}"><i class="fas fa-fw fa-phone-alt me-2"></i>{{ CFChar.mobile }}</a>
                                </li>
                                <li class="list-item mb-0 h6 fw-light">
                                    <a href="mailto:{{ CFEmail.info }}"><i class="far fa-fw fa-envelope me-2"></i>{{ CFEmail.info }}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>


        </section>
        <!-- =======================
        Page Banner END -->

        <!-- =======================
        Image and contact form START -->
        <section>
            <div class="container">
                {% include 'includes/messages.html' %}

                <div class="row g-4 g-lg-0 align-items-center">

                    <div class="col-md-6 align-items-center text-center">
                        <!-- Image -->
                        <img src="{% static 'assets/images/element/contact.svg' %}" class="h-400px protected-image" alt="">

                        <!-- Social media button -->
                        <div class="d-sm-flex align-items-center justify-content-center mt-2 mt-sm-4">
                            <h5 class="mb-0">Follow us on:</h5>
                            <ul class="list-inline mb-0 ms-sm-2">
                                <li class="list-inline-item"><a class="fs-5 me-1 text-facebook"
                                                                href="{{ CFURL.facebook }}"><i
                                        class="fab fa-fw fa-facebook-square"></i></a></li>
                                <li class="list-inline-item"><a class="fs-5 me-1 text-instagram"
                                                                href="{{ CFURL.instagram }}"><i
                                        class="fab fa-fw fa-instagram"></i></a></li>
                                <li class="list-inline-item"><a class="fs-5 me-1 text-twitter"
                                                                href="{{ CFURL.twitter }}"><i
                                        class="fab fa-fw fa-twitter"></i></a></li>
                                <li class="list-inline-item"><a class="fs-5 me-1 text-linkedin"
                                                                href="{{ CFURL.linkedin }}"><i
                                        class="fab fa-fw fa-linkedin-in"></i></a></li>
                                <li class="list-inline-item"><a class="fs-5 me-1 text-dribbble"
                                                                href="{{ CFURL.dribbble }}"><i
                                        class="fas fa-fw fa-basketball-ball"></i></a></li>
                                <li class="list-inline-item"><a class="fs-5 me-1 text-pinterest"
                                                                href="{{ CFURL.pinterest }}"><i
                                        class="fab fa-fw fa-pinterest"></i></a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Contact form START -->
                    <div class="col-lg-6">
                        <div class="ps-lg-5">
                            <h2 class="mb-4">Let's talk</h2>
                            <p class="mb-5">Alternatively, fill out the contact form below and we'll get back to you
                                shortly.</p>

                            <form class="needs-validation" novalidate method="POST" enctype="multipart/form-data">
                                {% csrf_token %}
                                <div class="row g-3">
                                    <!-- Name -->
                                    <div class="col-md-12">
                                        <label for="name" class="form-label">Your name *</label>
                                        {{ form.name }}
                                        {% for error in form.name.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>

                                    <!-- Email -->
                                    <div class="col-md-6">
                                        <label for="emailInput" class="form-label">Email address *</label>
                                        {{ form.email }}
                                        {% for error in form.email.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>

                                    <!-- Phone -->
                                    <div class="col-md-6">
                                        <label for="yourPhone" class="form-label">Phone number</label>
                                        {{ form.phone }}
                                        {% for error in form.phone.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>

                                    <!-- Message -->
                                    <div class="col-12">
                                        <label for="textareaBox" class="form-label">Message *</label>
                                        {{ form.message }}
                                        {% for error in form.message.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>

                                    {{ form.captcha }}
                                    {% for error in form.captcha.errors %}
                                        <div class="invalid-feedback d-block">{{ error }}</div>
                                    {% endfor %}


                                    <!-- Button -->
                                    <div class="col-12">
                                        <button class="btn btn-lg w-100 btn-primary" type="submit">Send Message</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- Contact form END -->

                </div>

            </div>
        </section>
        <!-- =======================
        Image and contact form END -->

        <!-- =======================
        Map START -->
        {#                <section class="pt-0">#}
        {#                    <div class="container">#}
        {#                        <div class="row">#}
        {#                            <div class="col-12">#}
        {#                                <iframe class="w-100 h-400px grayscale rounded"#}
        {#                                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095343008!2d-74.00425878428698!3d40.74076684379132!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259bf5c1654f3%3A0xc80f9cfce5383d5d!2sGoogle!5e0!3m2!1sen!2sin!4v1586000412513!5m2!1sen!2sin"#}
        {#                                        height="500" style="border:0;" aria-hidden="false" tabindex="0"></iframe>#}
        {#                            </div>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                </section>#}
        {#        <section class="pt-0 pb-5">#}
        {#            <div class="container">#}
        {#                <div class="row">#}
        {#                    <div class="col-12">#}
        {#                        <div class="card shadow-sm border-0 overflow-hidden">#}
        {#                            <div class="card-body p-0">#}
        {#                                <iframe class="w-100 h-450px grayscale"#}
        {#                                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095343008!2d-74.00425878428698!3d40.74076684379132!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259bf5c1654f3%3A0xc80f9cfce5383d5d!2sGoogle!5e0!3m2!1sen!2sin!4v1586000412513!5m2!1sen!2sin"#}
        {#                                        style="border:0;" allowfullscreen="" loading="lazy"></iframe>#}
        {#                            </div>#}
        {#                        </div>#}
        {#                    </div>#}
        {#                </div>#}
        {#            </div>#}
        {#        </section>#}

        <!-- =======================
        Map END -->


    </main>
    <!-- **************** MAIN CONTENT END **************** -->
{% endblock %}
{% block my_scripts %}

    <script>

        document.addEventListener('DOMContentLoaded', function () {
            // Function to validate a single field
            function validateField(field) {
                if (field.required && !field.value.trim()) {
                    field.classList.add('is-invalid');  // Add invalid class
                    return false;  // Field is invalid
                } else {
                    field.classList.remove('is-invalid');  // Remove invalid class
                    return true;  // Field is valid
                }
            }

            // Function to validate all required fields in a form
            function validateForm(form) {
                let isValid = true;
                const requiredFields = form.querySelectorAll('input[required], select[required], textarea[required]');

                requiredFields.forEach(function (field) {
                    if (!validateField(field)) {
                        isValid = false;  // Form is invalid
                    }
                });

                return isValid;
            }

            // Attach validation to form submission
            const forms = document.querySelectorAll('.needs-validation');
            forms.forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!validateForm(form)) {
                        event.preventDefault();  // Prevent form submission
                        event.stopPropagation();
                    }

                    form.classList.add('was-validated');  // Show validation feedback
                }, false);
            });

            // Handle Choices.js fields
            const choiceSelects = document.querySelectorAll('.js-choice');
            choiceSelects.forEach(function (select) {
                const choices = new Choices(select, {
                    removeItemButton: true,
                    searchEnabled: true,
                    placeholderValue: 'Select an option',
                    shouldSort: false,
                    allowHTML: true,
                });

                // Sync validation state with Bootstrap
                select.addEventListener('change', function () {
                    validateField(select);  // Validate the field on change
                });
            });
        });
        // JavaScript for Bootstrap validation
        (function () {
            'use strict';

            // Fetch all forms with the .needs-validation class
            var forms = document.querySelectorAll('.needs-validation');

            // Loop over them and prevent submission if invalid
            Array.prototype.slice.call(forms).forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();

                        // Manually trigger validation for Choices.js fields
                        var customSelects = form.querySelectorAll('.js-choice');
                        customSelects.forEach(function (select) {
                            if (!select.validity.valid) {
                                select.classList.add('is-invalid');
                            }
                        });
                    }

                    // Add the 'was-validated' class to show validation feedback
                    form.classList.add('was-validated');
                }, false);
            });
        })();

    </script>


{% endblock %}